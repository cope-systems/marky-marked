{"version":3,"sources":["node_modules/browser-pack/_prelude.js","index.js","node_modules/marked/lib/marked.js","src/marky.js","src/modules/Buttons.js","src/modules/Dialogs.js","src/modules/Element.js","src/modules/ListItems.js","src/modules/Marky.js","src/modules/custom-events.js","src/modules/dispatcher.js","src/modules/handlers.js","src/modules/mark.js","src/modules/operation.js","src/modules/parsers.js"],"names":[],"mappings":"AAAA;ACAA;;;;;;;;AAGA,OAAO,OAAP;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrwCA;;;;;;;;AAGA,IAAI,QAAQ,kBAAR;kBACW;;;ACJf;;;;;;;;;;;;;;;;;;;;;;;;;IAaa;;;AACX,WADW,aACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,eAC6B;;uEAD7B,0BAEH,QAAQ,QAAR,EAAkB,SAAS,UAAT,EAAqB,IAAI,WADX;;AAEtC,UAAK,QAAL,CAAc,CAAC,MAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,UAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,MAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,WAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,MAAK,OAAL,CAAd,CAPsC;AAQtC,UAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,YAAK,OAAL,CAAa,IAAb,GAF0B;AAG1B,aAAO,SAAP,CAAiB,MAAjB,CAAwB,SAAxB,EAH0B;AAI1B,UAAI,OAAO,KAAP,CAAa,UAAb,KAA4B,QAA5B,EAAsC;AACxC,eAAO,KAAP,CAAa,UAAb,GAA0B,SAA1B,CADwC;AAExC,eAFwC;OAA1C;AAIA,aAAO,KAAP,CAAa,UAAb,GAA0B,QAA1B,CAR0B;KAAP,CAArB,CARsC;;GAAxC;;SADW;;;IAsBA;;;AACX,WADW,UACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,YAC6B;;wEAD7B,uBAEH,QAAQ,QAAR,EAAkB,SAAS,MAAT,EAAiB,IAAI,WADP;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CAJyB;AAKtC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CALkC;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,SAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CAPsC;AAQtC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,IAAd,CAAmB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA3C,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,YACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,cAC6B;;wEAD7B,yBAEH,QAAQ,QAAR,EAAkB,SAAS,QAAT,EAAmB,IAAI,WADT;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CAJyB;AAKtC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CALkC;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,WAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CAPsC;AAQtC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,MAAd,CAAqB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA7C,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,mBACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,qBAC6B;;wEAD7B,gCAEH,QAAQ,QAAR,EAAkB,SAAS,eAAT,EAA0B,IAAI,WADhB;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,kBAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CAPsC;AAQtC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,aAAd,CAA4B,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAApD,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,UACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,YAC6B;;wEAD7B,uBAEH,QAAQ,QAAR,EAAkB,SAAS,MAAT,EAAiB,IAAI,WADP;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,SAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CAPsC;AAQtC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,IAAd,CAAmB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA3C,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,gBACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,kBAC6B;;wEAD7B,6BAEH,QAAQ,QAAR,EAAkB,SAAS,YAAT,EAAuB,IAAI,WADb;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,gBAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CAPsC;AAQtC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,UAAd,CAAyB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAjD,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,UACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,YAC6B;;wEAD7B,uBAEH,QAAQ,QAAR,EAAkB,SAAS,MAAT,EAAiB,IAAI,WADP;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,OAAK,QAAL,CAAc,CAAd,EAAiB,OAAjB,CALyB;AAMtC,QAAI,SAAS,OAAK,QAAL,CAAc,CAAd,EAAiB,OAAjB,CANyB;AAOtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,SAAP,CAAd,EAPsC;AAQtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CARsC;AAStC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CATsC;AActC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAdsC;AAiBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,SAAP,CAAiB,MAAjB,CAAwB,SAAxB,EAH0B;AAI1B,UAAI,OAAO,KAAP,CAAa,UAAb,KAA4B,QAA5B,EAAsC;AACxC,eAAO,QAAP,CAAgB,CAAhB,EAAmB,QAAnB,CAA4B,CAA5B,EAA+B,KAA/B,GAAuC,OAAO,KAAP,CAAa,SAAb,CAAuB,OAAO,cAAP,EAAuB,OAAO,YAAP,CAArF,CADwC;AAExC,eAAO,KAAP,CAAa,UAAb,GAA0B,SAA1B,CAFwC;AAGxC,eAHwC;OAA1C;AAKA,aAAO,KAAP,CAAa,UAAb,GAA0B,QAA1B,CAT0B;KAAP,CAArB,CAjBsC;;GAAxC;;SADW;;;IAgCA;;;AACX,WADW,WACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,aAC6B;;wEAD7B,wBAEH,QAAQ,QAAR,EAAkB,SAAS,OAAT,EAAkB,IAAI,WADR;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,OAAK,QAAL,CAAc,CAAd,EAAiB,OAAjB,CALyB;AAMtC,QAAI,SAAS,OAAK,QAAL,CAAc,CAAd,EAAiB,OAAjB,CANyB;AAOtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,iBAAP,CAAd,EAPsC;AAQtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CARsC;AAStC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CATsC;AActC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAdsC;AAiBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,SAAP,CAAiB,MAAjB,CAAwB,SAAxB,EAH0B;AAI1B,UAAI,OAAO,KAAP,CAAa,UAAb,KAA4B,QAA5B,EAAsC;AACxC,eAAO,QAAP,CAAgB,CAAhB,EAAmB,QAAnB,CAA4B,CAA5B,EAA+B,KAA/B,GAAuC,OAAO,KAAP,CAAa,SAAb,CAAuB,OAAO,cAAP,EAAuB,OAAO,YAAP,CAArF,CADwC;AAExC,eAAO,KAAP,CAAa,UAAb,GAA0B,SAA1B,CAFwC;AAGxC,eAHwC;OAA1C;AAKA,aAAO,KAAP,CAAa,UAAb,GAA0B,QAA1B,CAT0B;KAAP,CAArB,CAjBsC;;GAAxC;;SADW;;;IAgCA;;;AACX,WADW,mBACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,qBAC6B;;wEAD7B,gCAEH,QAAQ,QAAR,EAAkB,SAAS,gBAAT,EAA2B,IAAI,WADjB;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,YAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,OAAK,OAAL,CAAd,CAPsC;AAQtC,WAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,OAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,WAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,OAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,WAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,aAAd,CAA4B,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAApD,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,iBACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,mBAC6B;;yEAD7B,8BAEH,QAAQ,QAAR,EAAkB,SAAS,cAAT,EAAyB,IAAI,WADf;;AAEtC,YAAK,QAAL,CAAc,CAAC,QAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,QAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,YAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,QAAK,OAAL,CAAd,CAPsC;AAQtC,YAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,QAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,YAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,QAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,WAAd,CAA0B,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAlD,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,YACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,cAC6B;;yEAD7B,yBAEH,QAAQ,QAAR,EAAkB,SAAS,QAAT,EAAmB,IAAI,WADT;;AAEtC,YAAK,QAAL,CAAc,CAAC,QAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,QAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,WAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,QAAK,OAAL,CAAd,CAPsC;AAQtC,YAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,QAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,YAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,QAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,MAAd,CAAqB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA7C,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,aACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,eAC6B;;yEAD7B,0BAEH,QAAQ,QAAR,EAAkB,SAAS,SAAT,EAAoB,IAAI,WADV;;AAEtC,YAAK,QAAL,CAAc,CAAC,QAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,QAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,YAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,QAAK,OAAL,CAAd,CAPsC;AAQtC,YAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,QAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,YAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,QAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,aAAO,KAAP,GAF0B;AAG1B,aAAO,OAAO,MAAP,CAAc,OAAd,CAAsB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA9C,CAAP,CAH0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IAyBA;;;AACX,WADW,UACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,YAC6B;;yEAD7B,uBAEH,QAAQ,QAAR,EAAkB,SAAS,MAAT,EAAiB,IAAI,WADP;;AAEtC,YAAK,QAAL,CAAc,CAAC,QAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,QAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,aAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,QAAK,OAAL,CAAd,CAPsC;AAQtC,YAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,QAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,YAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,QAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,UAAI,QAAK,OAAL,CAAa,SAAb,CAAuB,QAAvB,CAAgC,UAAhC,CAAJ,EAAiD,OAAjD;AACA,aAAO,KAAP,GAH0B;AAI1B,aAAO,OAAO,MAAP,CAAc,IAAd,CAAmB,CAAnB,EAAsB,OAAO,MAAP,CAAc,KAAd,EAAqB,OAAO,MAAP,CAAc,KAAd,CAAlD,CAJ0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IA0BA;;;AACX,WADW,UACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,YAC6B;;yEAD7B,uBAEH,QAAQ,QAAR,EAAkB,SAAS,MAAT,EAAiB,IAAI,WADP;;AAEtC,YAAK,QAAL,CAAc,CAAC,QAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,SAAS,QAAK,QAAL,CAAc,OAAd,CALyB;AAMtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,YAAP,CAAd,EANsC;AAOtC,SAAK,QAAL,CAAc,QAAK,OAAL,CAAd,CAPsC;AAQtC,YAAK,MAAL,CAAY,WAAZ,EAAyB,UAAC,CAAD,EAAO;AAC9B,QAAE,cAAF,GAD8B;AAE9B,aAAO,KAAP,GAF8B;AAG9B,aAAO,QAAK,QAAL,CAAc,CAAC,QAAD,CAAd,CAAP,CAH8B;KAAP,CAAzB,CARsC;AAatC,YAAK,MAAL,CAAY,SAAZ,EAAuB,YAAM;AAC3B,aAAO,QAAK,WAAL,CAAiB,CAAC,QAAD,CAAjB,CAAP,CAD2B;KAAN,CAAvB,CAbsC;AAgBtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,UAAI,QAAK,OAAL,CAAa,SAAb,CAAuB,QAAvB,CAAgC,UAAhC,CAAJ,EAAiD,OAAjD;AACA,aAAO,KAAP,GAH0B;AAI1B,aAAO,OAAO,MAAP,CAAc,IAAd,CAAmB,CAAnB,EAAsB,OAAO,MAAP,CAAc,KAAd,EAAqB,OAAO,MAAP,CAAc,KAAd,CAAlD,CAJ0B;KAAP,CAArB,CAhBsC;;GAAxC;;SADW;;;IA0BA;;;AACX,WADW,gBACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,kBAC6B;;yEAD7B,6BAEH,QAAQ,QAAR,EAAkB,SAAS,OAAT,EAAkB,IAAI,WADR;;AAEtC,YAAK,QAAL,CAAc,CAAC,QAAK,KAAL,EAAY,EAAb,CAAd,EAFsC;AAGtC,YAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHsC;AAItC,QAAI,OAAO,uBAAY,GAAZ,CAAP,CAJkC;AAKtC,QAAI,YAAY,QAAK,QAAL,CAAc,CAAd,CAAZ,CALkC;AAMtC,QAAI,SAAS,QAAK,QAAL,CAAc,CAAd,EAAiB,OAAjB,CANyB;AAOtC,SAAK,QAAL,CAAc,CAAC,IAAD,EAAO,WAAP,CAAd,EAPsC;AAQtC,SAAK,QAAL,CAAc,QAAK,OAAL,CAAd,CARsC;AAStC,YAAK,MAAL,CAAY,OAAZ,EAAqB,UAAC,CAAD,EAAO;AAC1B,QAAE,cAAF,GAD0B;AAE1B,cAAK,OAAL,CAAa,IAAb,GAF0B;AAG1B,gBAAU,SAAV,CAAoB,MAApB,CAA2B,oBAA3B,EAH0B;AAI1B,aAAO,SAAP,CAAiB,MAAjB,CAAwB,oBAAxB,EAJ0B;AAK1B,cAAK,OAAL,CAAa,SAAb,CAAuB,MAAvB,CAA8B,oBAA9B,EAL0B;AAM1B,WAAK,OAAL,CAAa,SAAb,CAAuB,MAAvB,CAA8B,WAA9B,EAN0B;AAO1B,WAAK,OAAL,CAAa,SAAb,CAAuB,MAAvB,CAA8B,aAA9B,EAP0B;AAQ1B,aAR0B;KAAP,CAArB,CATsC;;GAAxC;;SADW;;;;ACxXb;;;;;;;;;;;;;;;;;;;;;;;;;;;IAea;;;AACX,WADW,UACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,YAC6B;;uEAD7B,uBAEH,QAAQ,KAAR,EAAe,SAAS,aAAT,EAAwB,IAAI,WADX;;AAEtC,UAAK,QAAL,CAAc,CAAC,MAAK,KAAL,EAAY,EAAb,EAAiB,QAAjB,CAAd,EAFsC;AAGtC,QAAI,UAAU,MAAK,OAAL,CAHwB;AAItC,QAAI,SAAS,MAAK,QAAL,CAAc,OAAd,CAJyB;;AAMtC,QAAI,WAAW,sBAAY,MAAZ,EAAoB,WAApB,CAAX,CANkC;AAOtC,aAAS,MAAT,CAAgB,IAAhB,EAAsB,KAAK,YAAL,CAAtB,CAPsC;;AAStC,QAAI,eAAe,sBAAY,OAAZ,EAAqB,UAArB,CAAf,CATkC;AAUtC,iBAAa,QAAb,CAAsB,CAAC,gBAAD,CAAtB,EAVsC;AAWtC,iBAAa,MAAb,CAAoB,MAApB,EAA4B,MAA5B,EAXsC;AAYtC,iBAAa,MAAb,CAAoB,MAApB,EAA4B,KAAK,iBAAL,CAA5B,CAZsC;AAatC,iBAAa,MAAb,CAAoB,aAApB,EAAmC,gBAAnC,EAbsC;;AAetC,QAAI,mBAAmB,sBAAY,OAAZ,EAAqB,cAArB,CAAnB,CAfkC;AAgBtC,qBAAiB,QAAjB,CAA0B,CAAC,oBAAD,CAA1B,EAhBsC;AAiBtC,qBAAiB,MAAjB,CAAwB,MAAxB,EAAgC,MAAhC,EAjBsC;AAkBtC,qBAAiB,MAAjB,CAAwB,MAAxB,EAAgC,KAAK,qBAAL,CAAhC,CAlBsC;AAmBtC,qBAAiB,MAAjB,CAAwB,aAAxB,EAAuC,cAAvC,EAnBsC;;AAqBtC,QAAI,eAAe,sBAAY,QAAZ,EAAsB,aAAtB,CAAf,CArBkC;AAsBtC,iBAAa,QAAb,CAAsB,CAAC,aAAD,CAAtB,EAtBsC;AAuBtC,iBAAa,MAAb,CAAoB,aAApB,EAAmC,QAAnC,EAvBsC;;AAyBtC,aAAS,QAAT,CAAkB,MAAK,OAAL,CAAlB,CAzBsC;AA0BtC,iBAAa,QAAb,CAAsB,SAAS,OAAT,CAAtB,CA1BsC;AA2BtC,qBAAiB,QAAjB,CAA0B,SAAS,OAAT,CAA1B,CA3BsC;AA4BtC,iBAAa,QAAb,CAAsB,SAAS,OAAT,CAAtB,CA5BsC;;AA8BtC,aAAS,MAAT,CAAgB,QAAhB,EAA0B,UAAC,CAAD,EAAO;AAC/B,QAAE,cAAF,GAD+B;AAE/B,aAAO,KAAP,GAF+B;KAAP,CAA1B,CA9BsC;AAkCtC,iBAAa,MAAb,CAAoB,OAApB,EAA6B,UAAC,CAAD,EAAO;AAClC,QAAE,cAAF,CADkC;AAElC,aAAO,KAAP,GAFkC;AAGlC,UAAI,MAAM,aAAa,OAAb,CAAqB,KAArB,GAA6B,aAAa,OAAb,CAAqB,KAArB,GAA6B,gBAA1D,CAHwB;AAIlC,UAAI,UAAU,iBAAiB,OAAjB,CAAyB,KAAzB,GAAiC,iBAAiB,OAAjB,CAAyB,KAAzB,GAAiC,GAAlE,CAJoB;AAKlC,mBAAa,OAAb,CAAqB,KAArB,GAA6B,EAA7B,CALkC;AAMlC,uBAAiB,OAAjB,CAAyB,KAAzB,GAAiC,EAAjC,CANkC;AAOlC,cAAQ,KAAR,CAAc,UAAd,GAA2B,QAA3B,CAPkC;AAQlC,YAAK,WAAL,CAAiB,CAAC,SAAD,CAAjB,EARkC;AASlC,aAAO,OAAO,MAAP,CAAc,IAAd,CAAmB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA3C,EAAiE,GAAjE,EAAsE,OAAtE,CAAP,CATkC;KAAP,CAA7B,CAlCsC;AA6CtC,UAAK,QAAL,CAAc,MAAd,CAAqB,OAArB,EAA8B,YAAM;AAClC,YAAK,WAAL,CAAiB,CAAC,SAAD,CAAjB,EADkC;AAElC,cAAQ,KAAR,CAAc,UAAd,GAA2B,QAA3B,CAFkC;KAAN,CAA9B,CA7CsC;;GAAxC;;SADW;;;IAqDA;;;AACX,WADW,WACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,aAC6B;;wEAD7B,wBAEH,QAAQ,KAAR,EAAe,SAAS,cAAT,EAAyB,IAAI,WADZ;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,EAAiB,QAAjB,CAAd,EAFsC;AAGtC,QAAI,UAAU,OAAK,OAAL,CAHwB;AAItC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CAJyB;;AAMtC,QAAI,YAAY,sBAAY,MAAZ,EAAoB,YAApB,CAAZ,CANkC;AAOtC,cAAU,MAAV,CAAiB,IAAjB,EAAuB,KAAK,aAAL,CAAvB,CAPsC;;AAStC,QAAI,mBAAmB,sBAAY,OAAZ,EAAqB,cAArB,CAAnB,CATkC;AAUtC,qBAAiB,QAAjB,CAA0B,CAAC,oBAAD,CAA1B,EAVsC;AAWtC,qBAAiB,MAAjB,CAAwB,MAAxB,EAAgC,MAAhC,EAXsC;AAYtC,qBAAiB,MAAjB,CAAwB,MAAxB,EAAgC,KAAK,qBAAL,CAAhC,CAZsC;AAatC,qBAAiB,MAAjB,CAAwB,aAAxB,EAAuC,kCAAvC,EAbsC;;AAetC,QAAI,gBAAgB,sBAAY,OAAZ,EAAqB,WAArB,CAAhB,CAfkC;AAgBtC,kBAAc,QAAd,CAAuB,CAAC,iBAAD,CAAvB,EAhBsC;AAiBtC,kBAAc,MAAd,CAAqB,MAArB,EAA6B,MAA7B,EAjBsC;AAkBtC,kBAAc,MAAd,CAAqB,MAArB,EAA6B,KAAK,sBAAL,CAA7B,CAlBsC;AAmBtC,kBAAc,MAAd,CAAqB,aAArB,EAAoC,UAApC,EAnBsC;;AAqBtC,QAAI,eAAe,sBAAY,QAAZ,EAAsB,cAAtB,CAAf,CArBkC;AAsBtC,iBAAa,QAAb,CAAsB,CAAC,cAAD,CAAtB,EAtBsC;AAuBtC,iBAAa,MAAb,CAAoB,aAApB,EAAmC,QAAnC,EAvBsC;;AAyBtC,cAAU,QAAV,CAAmB,OAAK,OAAL,CAAnB,CAzBsC;AA0BtC,qBAAiB,QAAjB,CAA0B,UAAU,OAAV,CAA1B,CA1BsC;AA2BtC,kBAAc,QAAd,CAAuB,UAAU,OAAV,CAAvB,CA3BsC;AA4BtC,iBAAa,QAAb,CAAsB,UAAU,OAAV,CAAtB,CA5BsC;;AA8BtC,cAAU,MAAV,CAAiB,QAAjB,EAA2B,UAAC,CAAD,EAAO;AAChC,QAAE,cAAF,GADgC;AAEhC,aAAO,KAAP,GAFgC;KAAP,CAA3B,CA9BsC;AAkCtC,iBAAa,MAAb,CAAoB,OAApB,EAA6B,UAAC,CAAD,EAAO;AAClC,QAAE,cAAF,CADkC;AAElC,aAAO,KAAP,GAFkC;AAGlC,UAAI,SAAS,iBAAiB,OAAjB,CAAyB,KAAzB,GAAiC,iBAAiB,OAAjB,CAAyB,KAAzB,GAAiC,kCAAlE,CAHqB;AAIlC,UAAI,MAAM,cAAc,OAAd,CAAsB,KAAtB,GAA8B,cAAc,OAAd,CAAsB,KAAtB,GAA8B,MAA5D,CAJwB;AAKlC,uBAAiB,OAAjB,CAAyB,KAAzB,GAAiC,EAAjC,CALkC;AAMlC,oBAAc,OAAd,CAAsB,KAAtB,GAA8B,EAA9B,CANkC;AAOlC,cAAQ,KAAR,CAAc,UAAd,GAA2B,QAA3B,CAPkC;AAQlC,aAAK,WAAL,CAAiB,CAAC,SAAD,CAAjB,EARkC;AASlC,aAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAA5C,EAAkE,MAAlE,EAA0E,GAA1E,CAAP,CATkC;KAAP,CAA7B,CAlCsC;AA6CtC,WAAK,QAAL,CAAc,MAAd,CAAqB,OAArB,EAA8B,YAAM;AAClC,aAAK,WAAL,CAAiB,CAAC,SAAD,CAAjB,EADkC;AAElC,cAAQ,KAAR,CAAc,UAAd,GAA2B,QAA3B,CAFkC;KAAN,CAA9B,CA7CsC;;GAAxC;;SADW;;;IAqDA;;;AACX,WADW,aACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,EAA1B,EAA8B,QAA9B,EAAwC;0BAD7B,eAC6B;;wEAD7B,0BAEH,QAAQ,KAAR,EAAe,SAAS,gBAAT,EAA2B,IAAI,WADd;;AAEtC,WAAK,QAAL,CAAc,CAAC,OAAK,KAAL,EAAY,EAAb,EAAiB,QAAjB,CAAd,EAFsC;AAGtC,QAAI,UAAU,OAAK,OAAL,CAHwB;AAItC,QAAI,SAAS,OAAK,QAAL,CAAc,OAAd,CAJyB;;AAMtC,QAAI,cAAc,sBAAY,IAAZ,EAAkB,cAAlB,CAAd,CANkC;AAOtC,gBAAY,MAAZ,CAAmB,IAAnB,EAAyB,KAAK,eAAL,CAAzB,CAPsC;;AAStC,QAAI,UAAU,2BAAgB,IAAhB,EAAsB,WAAtB,EAAmC,GAAnC,CAAV,CATkC;AAUtC,QAAI,UAAU,2BAAgB,IAAhB,EAAsB,WAAtB,EAAmC,GAAnC,CAAV,CAVkC;AAWtC,QAAI,UAAU,2BAAgB,IAAhB,EAAsB,WAAtB,EAAmC,GAAnC,CAAV,CAXkC;AAYtC,QAAI,UAAU,2BAAgB,IAAhB,EAAsB,WAAtB,EAAmC,GAAnC,CAAV,CAZkC;AAatC,QAAI,UAAU,2BAAgB,IAAhB,EAAsB,WAAtB,EAAmC,GAAnC,CAAV,CAbkC;AActC,QAAI,UAAU,2BAAgB,IAAhB,EAAsB,WAAtB,EAAmC,GAAnC,CAAV,CAdkC;AAetC,QAAI,SAAS,2BAAgB,IAAhB,EAAsB,gBAAtB,EAAwC,GAAxC,EAA6C,WAA7C,CAAT,CAfkC;;AAiBtC,gBAAY,QAAZ,CAAqB,OAArB,EAjBsC;AAkBtC,YAAQ,QAAR,CAAiB,YAAY,OAAZ,CAAjB,CAlBsC;AAmBtC,YAAQ,QAAR,CAAiB,YAAY,OAAZ,CAAjB,CAnBsC;AAoBtC,YAAQ,QAAR,CAAiB,YAAY,OAAZ,CAAjB,CApBsC;AAqBtC,YAAQ,QAAR,CAAiB,YAAY,OAAZ,CAAjB,CArBsC;AAsBtC,YAAQ,QAAR,CAAiB,YAAY,OAAZ,CAAjB,CAtBsC;AAuBtC,YAAQ,QAAR,CAAiB,YAAY,OAAZ,CAAjB,CAvBsC;AAwBtC,WAAO,QAAP,CAAgB,YAAY,OAAZ,CAAhB,CAxBsC;;AA0BtC,UAAM,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,YAAY,OAAZ,CAAoB,QAApB,EAA8B,UAAC,EAAD,EAAQ;AACjE,SAAG,QAAH,CAAY,CAAZ,EAAe,gBAAf,CAAgC,OAAhC,EAAyC,UAAC,CAAD,EAAO;AAC9C,UAAE,cAAF,GAD8C;AAE9C,YAAI,QAAQ,SAAS,EAAE,MAAF,CAAS,KAAT,CAAjB,CAF0C;AAG9C,eAAO,KAAP,GAH8C;AAI9C,eAAK,WAAL,CAAiB,CAAC,SAAD,CAAjB,EAJ8C;AAK9C,gBAAQ,KAAR,CAAc,UAAd,GAA2B,QAA3B,CAL8C;AAM9C,eAAO,MAAP,CAAc,OAAd,CAAsB,KAAtB,EAA6B,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAArD,EAN8C;OAAP,CAAzC,CADiE;KAAR,CAA3D,CA1BsC;;GAAxC;;SADW;;;;ACzHb;;;;;;;;;;;;;;;;;;;IAUa;AACX,WADW,OACX,CAAa,IAAb,EAA6D;QAA1C,8DAAQ,oBAAkC;QAA5B,2DAAK,oBAAuB;QAAjB,iEAAW,oBAAM;;0BADlD,SACkD;;AAC3D,SAAK,KAAL,GAAa,KAAb,CAD2D;AAE3D,SAAK,IAAL,GAAY,IAAZ,CAF2D;AAG3D,SAAK,EAAL,GAAU,EAAV,CAH2D;AAI3D,SAAK,QAAL,GAAgB,QAAhB,CAJ2D;AAK3D,SAAK,OAAL,GAAe,KAAK,QAAL,EAAf,CAL2D;AAM3D,QAAI,KAAK,KAAL,EAAY,KAAK,OAAL,CAAa,KAAb,GAAqB,KAAK,KAAL,CAArC;GANF;;eADW;;+BAUC;AACV,aAAO,SAAS,aAAT,CAAuB,KAAK,IAAL,CAA9B,CADU;;;;2BAIJ,MAAM,OAAO;AACnB,WAAK,OAAL,CAAa,IAAb,IAAqB,KAArB,CADmB;;;;6BAIX,WAAW;AACnB,gBAAU,WAAV,CAAsB,KAAK,OAAL,CAAtB,CADmB;;;;6BAIX,YAAY;;;AACpB,iBAAW,OAAX,CAAmB,UAAC,SAAD,EAAe;AAChC,cAAK,OAAL,CAAa,SAAb,CAAuB,GAAvB,CAA2B,UAAU,OAAV,CAAkB,MAAlB,EAA0B,GAA1B,EAA+B,WAA/B,EAA3B,EADgC;OAAf,CAAnB,CADoB;;;;gCAMT,YAAY;;;AACvB,iBAAW,OAAX,CAAmB,UAAC,SAAD,EAAe;AAChC,eAAK,OAAL,CAAa,SAAb,CAAuB,MAAvB,CAA8B,UAAU,OAAV,CAAkB,MAAlB,EAA0B,GAA1B,EAA+B,WAA/B,EAA9B,EADgC;OAAf,CAAnB,CADuB;;;;2BAMjB,KAAK,IAAI;AACf,WAAK,OAAL,CAAa,gBAAb,CAA8B,GAA9B,EAAmC,EAAnC,EADe;;;;SAlCN;;;;ACVb;;;;;;;;;;;;;;;;;;;;;;;;IAYa;;;AACX,WADW,WACX,CAAa,IAAb,EAAmB,KAAnB,EAA0B,KAA1B,EAAmD;QAAlB,kEAAY,oBAAM;;0BADxC,aACwC;;uEADxC,wBAEH,QAAQ,IAAR,EAAc,QAD6B;;AAEjD,UAAK,QAAL,CAAc,CAAC,MAAK,KAAL,CAAW,OAAX,CAAmB,GAAnB,EAAwB,GAAxB,CAAD,CAAd,EAFiD;AAGjD,UAAK,MAAL,CAAY,OAAZ,EAAqB,KAArB,EAHiD;AAIjD,QAAI,SAAS,sBAAY,QAAZ,EAAsB,KAAtB,CAAT,CAJ6C;AAKjD,WAAO,MAAP,CAAc,OAAd,EAAuB,KAAvB,EALiD;AAMjD,WAAO,QAAP,CAAgB,CAAC,gBAAD,CAAhB,EANiD;AAOjD,WAAO,QAAP,CAAgB,MAAK,OAAL,CAAhB,CAPiD;AAQjD,QAAI,SAAJ,EAAe;AACb,UAAI,OAAO,sBAAY,GAAZ,CAAP,CADS;AAEb,WAAK,QAAL,CAAc,CAAC,IAAD,EAAO,SAAP,CAAd,EAFa;AAGb,WAAK,QAAL,CAAc,OAAO,OAAP,CAAd,CAHa;KAAf,MAIO;AACL,aAAO,MAAP,CAAc,aAAd,EAA6B,KAA7B,EADK;KAJP;iBARiD;GAAnD;;SADW;;;;ACZb;;;;;;;;;;;;;;;;;;;;;IASY;;;;;;;;;;;;IAIC;AACX,WADW,KACX,CAAa,MAAb,EAAqB,SAArB,EAAgC;0BADrB,OACqB;;AAC9B,SAAK,IAAL,kBAD8B;AAE9B,SAAK,KAAL,GAAa,CAAC,EAAC,UAAU,EAAV,EAAc,MAAM,EAAN,EAAU,WAAW,CAAC,CAAD,EAAI,CAAJ,CAAX,EAA1B,CAAb,CAF8B;AAG9B,SAAK,KAAL,GAAa,CAAb,CAH8B;AAI9B,SAAK,MAAL,GAAc,MAAd,CAJ8B;AAK9B,SAAK,SAAL,GAAiB,SAAjB,CAL8B;GAAhC;;;;;;;;eADW;;8BAa0B;UAA5B,kEAAY,KAAK,SAAL,gBAAgB;;AACnC,gBAAU,MAAV,GADmC;;;;;;;;;;;;2BAU7B,UAAsE;UAA5D,kEAAY,CAAC,CAAD,EAAI,CAAJ,iBAAgD;UAAxC,8DAAQ,KAAK,KAAL,gBAAgC;UAApB,8DAAQ,KAAK,KAAL,gBAAY;;AAC5E,UAAM,SAAS,WAAW,MAAX,CAAkB,QAAlB,EAA4B,SAA5B,EAAuC,KAAvC,EAA8C,KAA9C,CAAT,CADsE;AAE5E,WAAK,KAAL,GAAa,OAAO,KAAP,CAF+D;AAG5E,WAAK,KAAL,GAAa,OAAO,KAAP,CAH+D;;;;;;;;;;;;;;;2BAeD;UAAvE,4DAAM,iBAAiE;UAA9D,8DAAQ,KAAK,KAAL,gBAAsD;UAA1C,8DAAQ,KAAK,KAAL,gBAAkC;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAC3E,UAAI,UAAU,CAAV,EAAa,OAAO,KAAP,CAAjB;;AAEA,UAAM,SAAS,WAAW,IAAX,CAAgB,GAAhB,EAAqB,KAArB,EAA4B,KAA5B,CAAT,CAHqE;AAI3E,WAAK,KAAL,GAAa,OAAO,KAAP,CAJ8D;AAK3E,aAAO,KAAP,GAAe,OAAO,KAAP,CAAa,QAAb,CAL4D;AAM3E,aAAO,iBAAP,CAAyB,OAAO,KAAP,CAAa,SAAb,CAAuB,CAAvB,CAAzB,EAAoD,OAAO,KAAP,CAAa,SAAb,CAAuB,CAAvB,CAApD,EAN2E;AAO3E,aAAO,WAAP,CAAmB,KAAnB,GAA2B,OAAO,KAAP,CAAa,IAAb,CAPgD;AAQ3E,aAAO,aAAP,4BAR2E;AAS3E,aAAO,KAAK,KAAL,CAToE;;;;;;;;;;;;;;;2BAqBA;UAAvE,4DAAM,iBAAiE;UAA9D,8DAAQ,KAAK,KAAL,gBAAsD;UAA1C,8DAAQ,KAAK,KAAL,gBAAkC;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAC3E,UAAI,UAAU,MAAM,MAAN,GAAe,CAAf,EAAkB,OAAO,KAAP,CAAhC;;AAEA,UAAM,SAAS,WAAW,IAAX,CAAgB,GAAhB,EAAqB,KAArB,EAA4B,KAA5B,CAAT,CAHqE;AAI3E,WAAK,KAAL,GAAa,OAAO,KAAP,CAJ8D;AAK3E,aAAO,KAAP,GAAe,OAAO,KAAP,CAAa,QAAb,CAL4D;AAM3E,aAAO,iBAAP,CAAyB,OAAO,KAAP,CAAa,SAAb,CAAuB,CAAvB,CAAzB,EAAoD,OAAO,KAAP,CAAa,SAAb,CAAuB,CAAvB,CAApD,EAN2E;AAO3E,aAAO,WAAP,CAAmB,KAAnB,GAA2B,OAAO,KAAP,CAAa,IAAb,CAPgD;AAQ3E,aAAO,aAAP,4BAR2E;AAS3E,aAAO,KAAK,KAAL,CAToE;;;;;;;;;;;;mCAkB3B;UAApC,4DAAM,CAAC,CAAD,EAAI,CAAJ,iBAA8B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAChD,aAAO,iBAAP,CAAyB,IAAI,CAAJ,CAAzB,EAAiC,IAAI,CAAJ,CAAjC,EADgD;AAEhD,aAAO,GAAP,CAFgD;;;;;;;;;;;;6CAWK;UAA/B,4DAAM,iBAAyB;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACrD,UAAM,QAAQ,OAAO,cAAP,CADuC;AAErD,UAAM,MAAM,OAAO,YAAP,GAAsB,GAAtB,CAFyC;;AAIrD,aAAO,iBAAP,CAAyB,KAAzB,EAAgC,GAAhC,EAJqD;AAKrD,aAAO,CAAC,KAAD,EAAQ,GAAR,CAAP,CALqD;;;;;;;;;;;;8CAcC;UAA/B,4DAAM,iBAAyB;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACtD,UAAM,QAAQ,OAAO,cAAP,GAAwB,GAAxB,CADwC;AAEtD,UAAM,MAAM,OAAO,YAAP,CAF0C;;AAItD,aAAO,iBAAP,CAAyB,KAAzB,EAAgC,GAAhC,EAJsD;AAKtD,aAAO,CAAC,KAAD,EAAQ,GAAR,CAAP,CALsD;;;;;;;;;;;;yCAcL;UAA/B,4DAAM,iBAAyB;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACjD,UAAM,QAAQ,OAAO,cAAP,GAAwB,GAAxB,CADmC;;AAGjD,aAAO,iBAAP,CAAyB,KAAzB,EAAgC,KAAhC,EAHiD;AAIjD,aAAO,KAAP,CAJiD;;;;;;;;;;;;wCAaD;UAA/B,4DAAM,iBAAyB;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAChD,UAAM,QAAQ,OAAO,cAAP,GAAwB,GAAxB,CADkC;;AAGhD,aAAO,iBAAP,CAAyB,KAAzB,EAAgC,KAAhC,EAHgD;AAIhD,aAAO,KAAP,CAJgD;;;;;;;;;;;;;yBAc5C,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACnC,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADyB;AAEnC,UAAI,UAAU,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,IAArC,CAAV,CAF+B;AAGnC,aAAO,KAAP,GAAe,QAAQ,KAAR,CAHoB;AAInC,aAAO,iBAAP,CAAyB,QAAQ,KAAR,CAAc,CAAd,CAAzB,EAA2C,QAAQ,KAAR,CAAc,CAAd,CAA3C,EAJmC;AAKnC,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CALwB;AAMnC,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CANmC;AAOnC,aAAO,aAAP,4BAPmC;AAQnC,aAAO,CAAC,QAAQ,KAAR,CAAc,CAAd,CAAD,EAAmB,QAAQ,KAAR,CAAc,CAAd,CAAnB,CAAP,CARmC;;;;;;;;;;;;;2BAkB7B,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACrC,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CAD2B;AAErC,UAAI,YAAY,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,GAArC,CAAZ,CAFiC;AAGrC,aAAO,KAAP,GAAe,UAAU,KAAV,CAHsB;AAIrC,aAAO,iBAAP,CAAyB,UAAU,KAAV,CAAgB,CAAhB,CAAzB,EAA6C,UAAU,KAAV,CAAgB,CAAhB,CAA7C,EAJqC;AAKrC,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAL0B;AAMrC,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CANqC;AAOrC,aAAO,aAAP,4BAPqC;AAQrC,aAAO,CAAC,UAAU,KAAV,CAAgB,CAAhB,CAAD,EAAqB,UAAU,KAAV,CAAgB,CAAhB,CAArB,CAAP,CARqC;;;;;;;;;;;;;kCAkBxB,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAC5C,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADkC;AAE5C,UAAI,aAAa,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,IAArC,CAAb,CAFwC;AAG5C,aAAO,KAAP,GAAe,WAAW,KAAX,CAH6B;AAI5C,aAAO,iBAAP,CAAyB,WAAW,KAAX,CAAiB,CAAjB,CAAzB,EAA8C,WAAW,KAAX,CAAiB,CAAjB,CAA9C,EAJ4C;AAK5C,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CALiC;AAM5C,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CAN4C;AAO5C,aAAO,aAAP,4BAP4C;AAQ5C,aAAO,CAAC,WAAW,KAAX,CAAiB,CAAjB,CAAD,EAAsB,WAAW,KAAX,CAAiB,CAAjB,CAAtB,CAAP,CAR4C;;;;;;;;;;;;;yBAkBxC,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACnC,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADyB;AAEnC,UAAI,SAAS,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,GAArC,CAAT,CAF+B;AAGnC,aAAO,KAAP,GAAe,OAAO,KAAP,CAHoB;AAInC,aAAO,iBAAP,CAAyB,OAAO,KAAP,CAAa,CAAb,CAAzB,EAA0C,OAAO,KAAP,CAAa,CAAb,CAA1C,EAJmC;AAKnC,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CALwB;AAMnC,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CANmC;AAOnC,aAAO,aAAP,4BAPmC;AAQnC,aAAO,CAAC,OAAO,KAAP,CAAa,CAAb,CAAD,EAAkB,OAAO,KAAP,CAAa,CAAb,CAAlB,CAAP,CARmC;;;;;;;;;;;;;+BAkBzB,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACzC,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CAD+B;AAEzC,UAAI,UAAU,4BAAa,OAAO,KAAP,EAAc,OAA3B,EAAoC,IAApC,CAAV,CAFqC;AAGzC,aAAO,KAAP,GAAe,QAAQ,KAAR,CAH0B;AAIzC,aAAO,iBAAP,CAAyB,QAAQ,KAAR,CAAc,CAAd,CAAzB,EAA2C,QAAQ,KAAR,CAAc,CAAd,CAA3C,EAJyC;AAKzC,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAL8B;AAMzC,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CANyC;AAOzC,aAAO,aAAP,4BAPyC;AAQzC,aAAO,CAAC,QAAQ,KAAR,CAAc,CAAd,CAAD,EAAmB,QAAQ,KAAR,CAAc,CAAd,CAAnB,CAAP,CARyC;;;;;;;;;;;;;8BAkBQ;UAA1C,8DAAQ,iBAAkC;UAA/B,uBAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACjD,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADuC;AAEjD,UAAI,UAAU,EAAV,CAF6C;AAGjD,UAAI,gBAAJ,CAHiD;AAIjD,WAAK,IAAI,IAAI,CAAJ,EAAO,KAAK,KAAL,EAAY,GAA5B,EAAiC;AAC/B,gBAAQ,IAAR,CAAa,GAAb,EAD+B;OAAjC;AAGA,aAAO,QAAQ,IAAR,CAAa,EAAb,CAAP,CAPiD;AAQjD,UAAI,QAAQ,OAAO,GAAP,GAAa,EAAb,CARqC;AASjD,UAAI,aAAa,4BAAa,OAAO,KAAP,EAAc,OAA3B,EAAoC,OAAO,KAAP,CAAjD,CAT6C;AAUjD,aAAO,KAAP,GAAe,WAAW,KAAX,CAVkC;AAWjD,aAAO,iBAAP,CAAyB,WAAW,KAAX,CAAiB,CAAjB,CAAzB,EAA8C,WAAW,KAAX,CAAiB,CAAjB,CAA9C,EAXiD;AAYjD,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAZsC;AAajD,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CAbiD;AAcjD,aAAO,aAAP,4BAdiD;AAejD,aAAO,CAAC,WAAW,KAAX,CAAiB,CAAjB,CAAD,EAAsB,WAAW,KAAX,CAAiB,CAAjB,CAAtB,CAAP,CAfiD;;;;;;;;;;;;;yBAyB7C,SAAmF;UAA1E,4DAAM,gCAAoE;UAAlD,gEAAU,gCAAwC;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACvF,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CAD6E;AAEvF,UAAM,OAAO,MAAM,OAAN,GAAgB,IAAhB,GAAuB,GAAvB,GAA6B,GAA7B,CAF0E;AAGvF,UAAI,UAAU,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,IAArC,CAAV,CAHmF;AAIvF,aAAO,KAAP,GAAe,QAAQ,KAAR,CAJwE;AAKvF,aAAO,iBAAP,CAAyB,QAAQ,KAAR,CAAc,CAAd,CAAzB,EAA2C,QAAQ,KAAR,CAAc,CAAd,CAA3C,EALuF;AAMvF,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAN4E;AAOvF,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CAPuF;AAQvF,aAAO,aAAP,4BARuF;AASvF,aAAO,CAAC,QAAQ,KAAR,CAAc,CAAd,CAAD,EAAmB,QAAQ,KAAR,CAAc,CAAd,CAAnB,CAAP,CATuF;;;;;;;;;;;;;0BAmBlF,SAAsH;UAA7G,+DAAS,kDAAoG;UAAhE,4DAAM,kDAA0D;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAC3H,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADiH;AAE3H,UAAM,OAAO,OAAO,GAAP,GAAa,IAAb,GAAoB,MAApB,GAA6B,GAA7B,CAF8G;AAG3H,UAAI,WAAW,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,IAArC,CAAX,CAHuH;AAI3H,aAAO,KAAP,GAAe,SAAS,KAAT,CAJ4G;AAK3H,aAAO,iBAAP,CAAyB,SAAS,KAAT,CAAe,CAAf,CAAzB,EAA4C,SAAS,KAAT,CAAe,CAAf,CAA5C,EAL2H;AAM3H,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CANgH;AAO3H,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CAP2H;AAQ3H,aAAO,aAAP,4BAR2H;AAS3H,aAAO,CAAC,SAAS,KAAT,CAAe,CAAf,CAAD,EAAoB,SAAS,KAAT,CAAe,CAAf,CAApB,CAAP,CAT2H;;;;;;;;;;;;;kCAmB9G,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAC5C,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADkC;AAE5C,UAAI,UAAU,2BAAY,OAAO,KAAP,EAAc,OAA1B,EAAmC,IAAnC,CAAV,CAFwC;AAG5C,aAAO,KAAP,GAAe,QAAQ,KAAR,CAH6B;AAI5C,aAAO,iBAAP,CAAyB,QAAQ,KAAR,CAAc,CAAd,CAAzB,EAA2C,QAAQ,KAAR,CAAc,CAAd,CAA3C,EAJ4C;AAK5C,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CALiC;AAM5C,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CAN4C;AAO5C,aAAO,aAAP,4BAP4C;AAQ5C,aAAO,CAAC,QAAQ,KAAR,CAAc,CAAd,CAAD,EAAmB,QAAQ,KAAR,CAAc,CAAd,CAAnB,CAAP,CAR4C;;;;;;;;;;;;;gCAkBjC,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AAC1C,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CADgC;AAE1C,UAAI,UAAU,2BAAY,OAAO,KAAP,EAAc,OAA1B,EAAmC,IAAnC,CAAV,CAFsC;AAG1C,aAAO,KAAP,GAAe,QAAQ,KAAR,CAH2B;AAI1C,aAAO,iBAAP,CAAyB,QAAQ,KAAR,CAAc,CAAd,CAAzB,EAA2C,QAAQ,KAAR,CAAc,CAAd,CAA3C,EAJ0C;AAK1C,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAL+B;AAM1C,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CAN0C;AAO1C,aAAO,aAAP,4BAP0C;AAQ1C,aAAO,CAAC,QAAQ,KAAR,CAAc,CAAd,CAAD,EAAmB,QAAQ,KAAR,CAAc,CAAd,CAAnB,CAAP,CAR0C;;;;;;;;;;;;;2BAkBpC,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACrC,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CAD2B;AAErC,UAAI,YAAY,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,IAArC,CAAZ,CAFiC;AAGrC,aAAO,KAAP,GAAe,UAAU,KAAV,CAHsB;AAIrC,aAAO,iBAAP,CAAyB,UAAU,KAAV,CAAgB,CAAhB,CAAzB,EAA6C,UAAU,KAAV,CAAgB,CAAhB,CAA7C,EAJqC;AAKrC,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAL0B;AAMrC,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CANqC;AAOrC,aAAO,aAAP,4BAPqC;AAQrC,aAAO,CAAC,UAAU,KAAV,CAAgB,CAAhB,CAAD,EAAqB,UAAU,KAAV,CAAgB,CAAhB,CAArB,CAAP,CARqC;;;;;;;;;;;;;4BAkB9B,SAA+B;UAAtB,+DAAS,KAAK,MAAL,gBAAa;;AACtC,gBAAU,WAAW,CAAC,OAAO,cAAP,EAAuB,OAAO,YAAP,CAAnC,CAD4B;AAEtC,UAAI,YAAY,6BAAc,OAAO,KAAP,EAAc,OAA5B,EAAqC,KAArC,CAAZ,CAFkC;AAGtC,aAAO,KAAP,GAAe,UAAU,KAAV,CAHuB;AAItC,aAAO,iBAAP,CAAyB,UAAU,KAAV,CAAgB,CAAhB,CAAzB,EAA6C,UAAU,KAAV,CAAgB,CAAhB,CAA7C,EAJsC;AAKtC,UAAI,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,OAAO,MAAP,CAAc,KAAd,CAApB,CAAyC,IAAzC,CAL2B;AAMtC,aAAO,WAAP,CAAmB,KAAnB,GAA2B,IAA3B,CANsC;AAOtC,aAAO,aAAP,4BAPsC;AAQtC,aAAO,CAAC,UAAU,KAAV,CAAgB,CAAhB,CAAD,EAAqB,UAAU,KAAV,CAAgB,CAAhB,CAArB,CAAP,CARsC;;;;SA9V7B;;;;;ACZb;;;;;;;AAGC,CAAC,YAAY;AACZ,WAAS,WAAT,CAAsB,KAAtB,EAA6B,MAA7B,EAAqC;AACnC,aAAS,UAAU;AACjB,eAAS,KAAT;AACA,kBAAY,KAAZ;AACA,cAAQ,SAAR;KAHO,CAD0B;AAMnC,QAAI,MAAM,SAAS,WAAT,CAAqB,aAArB,CAAN,CAN+B;AAOnC,QAAI,eAAJ,CAAoB,KAApB,EAA2B,OAAO,OAAP,EAAgB,OAAO,UAAP,EAAmB,OAAO,MAAP,CAA9D,CAPmC;AAQnC,WAAO,GAAP,CARmC;GAArC;;AAWA,cAAY,SAAZ,GAAwB,OAAO,KAAP,CAAa,SAAb,CAZZ;;AAcZ,SAAO,WAAP,GAAqB,WAArB,CAdY;CAAZ,CAAD;;AAiBM,IAAI,gCAAY,IAAI,WAAJ,CAAgB,WAAhB,CAAZ;AACJ,IAAI,kCAAa,IAAI,WAAJ,CAAgB,YAAhB,CAAb;AACJ,IAAI,oCAAc,IAAI,WAAJ,CAAgB,aAAhB,CAAd;AACJ,IAAI,oCAAc,IAAI,WAAJ,CAAgB,aAAhB,CAAd;AACJ,IAAI,oCAAc,IAAI,WAAJ,CAAgB,aAAhB,CAAd;;;ACzBX;;;;;QAcgB;QAkBA;QAYA;;;;;;;;;;;;;;;;;;;;;AA9BT,SAAS,MAAT,CAAiB,QAAjB,EAA2B,SAA3B,EAAsC,KAAtC,EAA6C,UAA7C,EAAyD;AAC9D,MAAI,gBAAgB;AAClB,cAAU,IAAV;GADE,CAD0D;AAI9D,MAAI,OAAO,sBAAO,QAAP,EAAiB,aAAjB,EAAgC,QAAhC,MAA8C,EAA9C,CAJmD;AAK9D,MAAI,WAAW,yBAAU,KAAV,EAAiB,UAAjB,EAA6B,YAAM;AAChD,WAAO,EAAC,UAAU,QAAV,EAAoB,MAAM,IAAN,EAAY,WAAW,SAAX,EAAxC,CADgD;GAAN,CAAxC,CAL0D;AAQ9D,SAAO,QAAP,CAR8D;CAAzD;;;;;;;;;AAkBA,SAAS,IAAT,CAAe,GAAf,EAAoB,KAApB,EAA2B,UAA3B,EAAuC;AAC5C,eAAa,UAAC,GAAc,MAAM,CAAN,GAAY,aAAa,GAAb,GAAmB,CAA9C,CAD+B;AAE5C,SAAO,EAAC,OAAO,MAAM,UAAN,CAAP,EAA0B,OAAO,UAAP,EAAlC,CAF4C;CAAvC;;;;;;;;;AAYA,SAAS,IAAT,CAAe,GAAf,EAAoB,KAApB,EAA2B,UAA3B,EAAuC;AAC5C,eAAa,UAAC,GAAa,MAAM,MAAN,IAAgB,MAAM,CAAN,CAAhB,GAA4B,aAAa,GAAb,GAAmB,MAAM,MAAN,GAAe,CAAf,CAD9B;AAE5C,SAAO,EAAC,OAAO,MAAM,UAAN,CAAP,EAA0B,OAAO,UAAP,EAAlC,CAF4C;CAAvC;;;AC5CP;;;;;QAUgB;QAwCA;QA4BA;QAgCA;QA4BA;;;;;;;;;;;AAhIT,SAAS,aAAT,CAAwB,MAAxB,EAAgC,OAAhC,EAAyC,IAAzC,EAA+C;AACpD,MAAI,iBAAJ,CADoD;AAEpD,MAAI,UAAU,CAAC,IAAD,EAAO,IAAP,CAAV,CAFgD;AAGpD,MAAI,OAAO,OAAP,CAAe,IAAf,MAAyB,CAAC,CAAD,EAAI;AAC/B,YAAQ,OAAR,CAAgB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC9B,UAAI,OAAO,WAAP,CAAmB,IAAnB,EAAyB,CAAzB,MAAgC,IAAI,KAAK,MAAL,EAAa;AACnD,iBAAS,OAAO,SAAP,CAAiB,CAAjB,EAAoB,IAAI,KAAK,MAAL,CAAxB,GAAuC,OAAO,SAAP,CAAiB,CAAjB,EAAoB,OAAO,MAAP,CAA3D,CAD0C;AAEnD,YAAI,MAAM,CAAN,EAAS;AACX,kBAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CADf;AAEX,kBAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CAFf;SAAb,MAGO;AACL,kBAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CADrB;SAHP;AAMA,YAAI,MAAM,CAAN,IAAW,QAAQ,CAAR,CAAX,EAAuB,QAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CAArD;AACA,gBAAQ,CAAR,IAAa,EAAb,CATmD;OAArD;AAWA,UAAI,OAAO,OAAP,CAAe,IAAf,EAAqB,CAArB,MAA4B,CAA5B,EAA+B;AACjC,iBAAS,OAAO,SAAP,CAAiB,CAAjB,EAAoB,CAApB,IAAyB,OAAO,SAAP,CAAiB,IAAI,KAAK,MAAL,EAAa,OAAO,MAAP,CAA3D,CADwB;AAEjC,YAAI,MAAM,CAAN,IAAY,QAAQ,CAAR,MAAe,QAAQ,CAAR,CAAf,EAA4B;AAC1C,kBAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CADgB;SAA5C;AAGA,YAAI,MAAM,CAAN,IAAY,QAAQ,CAAR,MAAe,QAAQ,CAAR,CAAf,EAA4B;AAC1C,kBAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CADgB;SAA5C;AAGA,YAAI,MAAM,CAAN,IAAW,QAAQ,CAAR,CAAX,EAAuB,QAAQ,CAAR,IAAa,QAAQ,CAAR,IAAa,KAAK,MAAL,CAArD;AACA,gBAAQ,CAAR,IAAa,EAAb,CATiC;OAAnC;KAZc,CAAhB,CAD+B;GAAjC;AA0BA,UAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,QAAQ,CAAR,CAApB,IAAkC,QAAQ,CAAR,CAAlC,GAA+C,OAAO,SAAP,CAAiB,QAAQ,CAAR,CAAjB,EAA6B,QAAQ,CAAR,CAA7B,CAA/C,GAA0F,QAAQ,CAAR,CAA1F,GAAuG,OAAO,SAAP,CAAiB,QAAQ,CAAR,CAAjB,EAA6B,OAAO,MAAP,CAApI,CA7B4C;AA8BpD,SAAO,EAAC,OAAO,KAAP,EAAc,OAAO,CAAC,QAAQ,CAAR,IAAa,QAAQ,CAAR,EAAW,MAAX,EAAmB,QAAQ,CAAR,IAAa,QAAQ,CAAR,EAAW,MAAX,CAArD,EAAtB,CA9BoD;CAA/C;;;;;;;;;AAwCA,SAAS,YAAT,CAAuB,MAAvB,EAA+B,OAA/B,EAAwC,IAAxC,EAA8C;AACnD,MAAM,QAAQ,QAAQ,CAAR,CAAR,CAD6C;AAEnD,MAAM,MAAM,QAAQ,CAAR,CAAN,CAF6C;AAGnD,MAAI,iBAAJ,CAHmD;AAInD,MAAI,YAAY,0BAAY,MAAZ,EAAoB,KAApB,CAAZ,CAJ+C;AAKnD,MAAI,UAAU,wBAAU,MAAV,EAAkB,GAAlB,CAAV,CAL+C;AAMnD,MAAI,2BAAa,MAAb,EAAqB,QAArB,EAA+B,SAA/B,MAA8C,SAA9C,EAAyD;AAC3D,QAAI,gBAAgB,OAAO,SAAP,CAAiB,SAAjB,EAA4B,YAAY,OAAO,SAAP,CAAiB,SAAjB,EAA4B,MAA5B,CAAmC,sBAAnC,CAAZ,CAA5C,CADuD;AAE3D,YAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,SAApB,IAAiC,OAAO,SAAP,CAAiB,YAAY,OAAO,SAAP,CAAiB,SAAjB,EAA4B,MAA5B,CAAmC,sBAAnC,CAAZ,EAAwE,OAAO,MAAP,CAA1H,CAFmD;AAG3D,cAAU,UAAU,cAAc,MAAd,CAHuC;AAI3D,QAAI,cAAc,IAAd,OAAyB,KAAK,IAAL,EAAzB,IAAwC,KAAK,IAAL,GAAY,MAAZ,EAAoB;AAC9D,cAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,SAApB,IAAiC,IAAjC,GAAwC,OAAO,SAAP,CAAiB,YAAY,OAAO,SAAP,CAAiB,SAAjB,EAA4B,MAA5B,CAAmC,sBAAnC,CAAZ,EAAwE,OAAO,MAAP,CAAjI,CADsD;AAE9D,kBAAY,YAAY,KAAK,MAAL,CAFsC;AAG9D,gBAAU,UAAU,KAAK,MAAL,CAH0C;KAAhE;AAKA,WAAO,EAAC,OAAO,KAAP,EAAc,OAAO,CAAC,SAAD,EAAY,OAAZ,CAAP,EAAtB,CAT2D;GAA7D;AAWA,UAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,SAApB,IAAiC,IAAjC,GAAwC,OAAO,SAAP,CAAiB,SAAjB,EAA4B,OAAO,MAAP,CAApE,CAjB2C;AAkBnD,SAAO,EAAC,OAAO,KAAP,EAAc,OAAO,CAAC,QAAQ,KAAK,MAAL,EAAa,MAAM,KAAK,MAAL,CAAnC,EAAtB,CAlBmD;CAA9C;;;;;;;;;AA4BA,SAAS,WAAT,CAAsB,MAAtB,EAA8B,OAA9B,EAAuC,IAAvC,EAA6C;AAClD,MAAM,QAAQ,0BAAY,MAAZ,EAAoB,QAAQ,CAAR,CAApB,CAAR,CAD4C;AAElD,MAAM,MAAM,wBAAU,MAAV,EAAkB,QAAQ,CAAR,CAAlB,CAAN,CAF4C;AAGlD,MAAM,QAAQ,yBAAW,OAAO,SAAP,CAAiB,KAAjB,EAAwB,GAAxB,CAAX,CAAR,CAH4C;AAIlD,MAAI,WAAW,EAAX,CAJ8C;AAKlD,MAAI,iBAAJ,CALkD;AAMlD,QAAM,OAAN,CAAc,UAAC,IAAD,EAAO,CAAP,EAAa;AACzB,QAAI,OAAO,IAAC,KAAS,IAAT,GAAiB,MAAM,GAAN,GAAY,CAAC,GAAI,CAAJ,GAAS,GAAV,GAAgB,GAAhB,CADhB;AAEzB,QAAI,mBAAJ,CAFyB;AAGzB,QAAI,2BAAa,IAAb,EAAmB,YAAnB,EAAiC,CAAjC,MAAwC,CAAxC,EAA2C;AAC7C,UAAI,gBAAgB,KAAK,SAAL,CAAe,CAAf,EAAkB,IAAI,KAAK,SAAL,CAAe,CAAf,EAAkB,MAAlB,CAAyB,6BAAzB,CAAJ,CAAlC,CADyC;AAE7C,gBAAU,KAAK,SAAL,CAAe,KAAK,MAAL,CAAY,6BAAZ,CAAf,EAA2D,KAAK,MAAL,CAArE,CAF6C;AAG7C,UAAI,cAAc,IAAd,OAAyB,KAAK,IAAL,EAAzB,EAAsC;AACxC,kBAAU,OAAO,KAAK,SAAL,CAAe,KAAK,MAAL,CAAY,6BAAZ,CAAf,EAA2D,KAAK,MAAL,CAAlE,CAD8B;OAA1C;AAGA,aAAO,SAAS,IAAT,CAAc,OAAd,CAAP,CAN6C;KAA/C;AAQA,cAAU,OAAO,KAAK,SAAL,CAAe,CAAf,EAAkB,KAAK,MAAL,CAAzB,CAXe;AAYzB,WAAO,SAAS,IAAT,CAAc,OAAd,CAAP,CAZyB;GAAb,CAAd,CANkD;AAoBlD,MAAI,SAAS,SAAS,IAAT,CAAc,MAAd,CAAT,CApB8C;AAqBlD,UAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,KAApB,IAA6B,SAAS,IAAT,CAAc,MAAd,CAA7B,GAAqD,OAAO,SAAP,CAAiB,GAAjB,EAAsB,OAAO,MAAP,CAA3E,CArB0C;AAsBlD,SAAO,EAAC,OAAO,KAAP,EAAc,OAAO,CAAC,KAAD,EAAQ,QAAQ,OAAO,OAAP,CAAe,MAAf,EAAuB,EAAvB,EAA2B,MAA3B,CAAvB,EAAtB,CAtBkD;CAA7C;;;;;;;;;AAgCA,SAAS,aAAT,CAAwB,MAAxB,EAAgC,OAAhC,EAAyC,IAAzC,EAA+C;AACpD,MAAM,QAAQ,0BAAY,MAAZ,EAAoB,QAAQ,CAAR,CAApB,CAAR,CAD8C;AAEpD,MAAM,MAAM,wBAAU,MAAV,EAAkB,QAAQ,CAAR,CAAlB,CAAN,CAF8C;AAGpD,MAAM,QAAQ,yBAAW,OAAO,SAAP,CAAiB,KAAjB,EAAwB,GAAxB,CAAX,CAAR,CAH8C;AAIpD,MAAI,WAAW,EAAX,CAJgD;AAKpD,MAAI,iBAAJ,CALoD;AAMpD,QAAM,OAAN,CAAc,UAAC,IAAD,EAAU;AACtB,QAAI,OAAO,MAAP,CADkB;AAEtB,QAAI,mBAAJ,CAFsB;AAGtB,QAAI,SAAS,KAAT,EAAgB;AAClB,gBAAU,IAAC,CAAK,OAAL,CAAa,IAAb,EAAmB,CAAnB,MAA0B,CAA1B,GAA+B,KAAK,SAAL,CAAe,KAAK,MAAL,EAAa,KAAK,MAAL,CAA5D,GAA2E,KAAK,SAAL,CAAe,KAAK,MAAL,CAAY,mCAAZ,CAAf,EAAiE,KAAK,MAAL,CAA5I,CADQ;AAElB,aAAO,SAAS,IAAT,CAAc,OAAd,CAAP,CAFkB;KAApB;AAIA,cAAU,OAAO,KAAK,SAAL,CAAe,CAAf,EAAkB,KAAK,MAAL,CAAzB,CAPY;AAQtB,WAAO,SAAS,IAAT,CAAc,OAAd,CAAP,CARsB;GAAV,CAAd,CANoD;AAgBpD,MAAI,SAAS,SAAS,IAAT,CAAc,MAAd,CAAT,CAhBgD;AAiBpD,UAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,KAApB,IAA6B,SAAS,IAAT,CAAc,MAAd,CAA7B,GAAqD,OAAO,SAAP,CAAiB,GAAjB,EAAsB,OAAO,MAAP,CAA3E,CAjB4C;AAkBpD,SAAO,EAAC,OAAO,KAAP,EAAc,OAAO,CAAC,KAAD,EAAQ,QAAQ,OAAO,OAAP,CAAe,MAAf,EAAuB,EAAvB,EAA2B,MAA3B,CAAvB,EAAtB,CAlBoD;CAA/C;;;;;;;;;AA4BA,SAAS,aAAT,CAAwB,MAAxB,EAAgC,OAAhC,EAAyC,IAAzC,EAA+C;AACpD,MAAM,QAAQ,QAAQ,CAAR,CAAR,CAD8C;AAEpD,MAAM,MAAM,QAAQ,CAAR,CAAN,CAF8C;AAGpD,MAAI,iBAAJ,CAHoD;AAIpD,UAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,KAApB,IAA6B,IAA7B,GAAoC,OAAO,SAAP,CAAiB,GAAjB,EAAsB,OAAO,MAAP,CAA1D,CAJ4C;;AAMpD,SAAO,EAAC,OAAO,KAAP,EAAc,OAAO,CAAC,KAAD,EAAQ,QAAQ,KAAK,MAAL,CAAvB,EAAtB,CANoD;CAA/C;;;AC1IP;;;;;;kBAce,YAA8B;MAApB,4DAAM,4BAAc;;AAC3C,MAAI,aAAa,SAAS,oBAAT,CAA8B,GAA9B,CAAb,CADuC;AAE3C,MAAI,QAAQ,EAAR,CAFuC;AAG3C,SAAO,MAAM,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,UAA7B,EAAyC,UAAC,SAAD,EAAY,CAAZ,EAAkB;AAChE,QAAI,UAAU,CAAV,CAD4D;AAEhE,QAAI,UAAU,QAAV,CAAmB,MAAnB,EAA2B;AAC7B,UAAI,UAAU,YAAV,CAAuB,IAAvB,CAAJ,EAAkC,MAAM,IAAN,CAAW,SAAS,UAAU,YAAV,CAAuB,IAAvB,EAA6B,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAT,CAAX,EAAlC;AACA,aAF6B;KAA/B;AAIA,QAAI,UAAU,qBAAY,KAAZ,EAAmB,SAAnB,CAAV,CAN4D;;AAQhE,QAAI,MAAM,MAAN,EAAc;AAChB,YAAM,IAAN,GADgB;AAEhB,gBAAU,MAAM,MAAM,MAAN,GAAe,CAAf,CAAN,GAA0B,CAA1B,CAFM;KAAlB;;AAKA,QAAI,KAAK,gBAAgB,OAAhB,CAbuD;AAchE,cAAU,EAAV,GAAe,EAAf,CAdgE;AAehE,YAAQ,QAAR,CAAiB,CAAC,eAAD,EAAkB,EAAlB,CAAjB,EAfgE;;AAiBhE,QAAI,UAAU,qBAAY,KAAZ,EAAmB,SAAnB,CAAV,CAjB4D;AAkBhE,YAAQ,QAAR,CAAiB,CAAC,eAAD,EAAkB,EAAlB,CAAjB,EAlBgE;;AAoBhE,QAAI,cAAc,qBAAY,UAAZ,EAAwB,qBAAxB,CAAd,CApB4D;AAqBhE,gBAAY,QAAZ,CAAqB,CAAC,cAAD,EAAiB,EAAjB,CAArB,EArBgE;AAsBhE,gBAAY,MAAZ,CAAmB,QAAnB,EAA6B,iBAAU,YAAY,OAAZ,EAAqB,SAA/B,CAA7B,EAtBgE;;AAwBhE,QAAI,cAAc,qBAAY,OAAZ,EAAqB,qBAArB,CAAd,CAxB4D;AAyBhE,gBAAY,MAAZ,CAAmB,MAAnB,EAA2B,QAA3B,EAzBgE;AA0BhE,gBAAY,QAAZ,CAAqB,CAAC,cAAD,EAAiB,EAAjB,CAArB,EA1BgE;;AA4BhE,QAAI,gBAAgB,2BAAkB,KAAlB,EAAyB,gBAAzB,EAA2C,EAA3C,EAA+C,WAA/C,CAAhB,CA5B4D;AA6BhE,kBAAc,OAAd,CAAsB,KAAtB,CAA4B,UAA5B,GAAyC,QAAzC,CA7BgE;;AA+BhE,QAAI,aAAa,wBAAe,KAAf,EAAsB,aAAtB,EAAqC,EAArC,EAAyC,WAAzC,CAAb,CA/B4D;AAgChE,eAAW,OAAX,CAAmB,KAAnB,CAAyB,UAAzB,GAAsC,QAAtC,CAhCgE;;AAkChE,QAAI,cAAc,yBAAgB,KAAhB,EAAuB,cAAvB,EAAuC,EAAvC,EAA2C,WAA3C,CAAd,CAlC4D;AAmChE,gBAAY,OAAZ,CAAoB,KAApB,CAA0B,UAA1B,GAAuC,QAAvC,CAnCgE;;AAqChE,QAAI,gBAAgB,2BAAkB,QAAlB,EAA4B,SAA5B,EAAuC,EAAvC,EAA2C,aAA3C,CAAhB,CArC4D;AAsChE,kBAAc,MAAd,CAAqB,OAArB,EAA8B,YAAY;AACxC,kBAAY,OAAZ,CAAoB,KAApB,CAA0B,UAA1B,GAAuC,QAAvC,CADwC;AAExC,kBAAY,WAAZ,CAAwB,CAAC,SAAD,CAAxB,EAFwC;AAGxC,iBAAW,OAAX,CAAmB,KAAnB,CAAyB,UAAzB,GAAsC,QAAtC,CAHwC;AAIxC,iBAAW,WAAX,CAAuB,CAAC,SAAD,CAAvB,EAJwC;KAAZ,CAA9B,CAtCgE;AA4ChE,QAAI,aAAa,wBAAe,QAAf,EAAyB,MAAzB,EAAiC,EAAjC,EAAqC,WAArC,CAAb,CA5C4D;AA6ChE,QAAI,eAAe,0BAAiB,QAAjB,EAA2B,QAA3B,EAAqC,EAArC,EAAyC,WAAzC,CAAf,CA7C4D;AA8ChE,QAAI,sBAAsB,iCAAwB,QAAxB,EAAkC,eAAlC,EAAmD,EAAnD,EAAuD,WAAvD,CAAtB,CA9C4D;AA+ChE,QAAI,aAAa,wBAAe,QAAf,EAAyB,MAAzB,EAAiC,EAAjC,EAAqC,WAArC,CAAb,CA/C4D;AAgDhE,QAAI,mBAAmB,8BAAqB,QAArB,EAA+B,YAA/B,EAA6C,EAA7C,EAAiD,WAAjD,CAAnB,CAhD4D;AAiDhE,QAAI,aAAa,wBAAe,QAAf,EAAyB,MAAzB,EAAiC,EAAjC,EAAqC,CAAC,UAAD,EAAa,WAAb,CAArC,CAAb,CAjD4D;AAkDhE,eAAW,MAAX,CAAkB,OAAlB,EAA2B,YAAY;AACrC,kBAAY,OAAZ,CAAoB,KAApB,CAA0B,UAA1B,GAAuC,QAAvC,CADqC;AAErC,kBAAY,WAAZ,CAAwB,CAAC,SAAD,CAAxB,EAFqC;AAGrC,oBAAc,OAAd,CAAsB,KAAtB,CAA4B,UAA5B,GAAyC,QAAzC,CAHqC;AAIrC,oBAAc,WAAd,CAA0B,CAAC,SAAD,CAA1B,EAJqC;KAAZ,CAA3B,CAlDgE;AAwDhE,QAAI,cAAc,yBAAgB,QAAhB,EAA0B,OAA1B,EAAmC,EAAnC,EAAuC,CAAC,WAAD,EAAc,WAAd,CAAvC,CAAd,CAxD4D;AAyDhE,gBAAY,MAAZ,CAAmB,OAAnB,EAA4B,YAAY;AACtC,iBAAW,OAAX,CAAmB,KAAnB,CAAyB,UAAzB,GAAsC,QAAtC,CADsC;AAEtC,iBAAW,WAAX,CAAuB,CAAC,SAAD,CAAvB,EAFsC;AAGtC,oBAAc,OAAd,CAAsB,KAAtB,CAA4B,UAA5B,GAAyC,QAAzC,CAHsC;AAItC,oBAAc,WAAd,CAA0B,CAAC,SAAD,CAA1B,EAJsC;KAAZ,CAA5B,CAzDgE;AA+DhE,QAAI,sBAAsB,iCAAwB,QAAxB,EAAkC,gBAAlC,EAAoD,EAApD,EAAwD,WAAxD,CAAtB,CA/D4D;AAgEhE,QAAI,oBAAoB,+BAAsB,QAAtB,EAAgC,cAAhC,EAAgD,EAAhD,EAAoD,WAApD,CAApB,CAhE4D;AAiEhE,QAAI,gBAAgB,2BAAkB,QAAlB,EAA4B,SAA5B,EAAuC,EAAvC,EAA2C,WAA3C,CAAhB,CAjE4D;AAkEhE,QAAI,eAAe,0BAAiB,QAAjB,EAA2B,QAA3B,EAAqC,EAArC,EAAyC,WAAzC,CAAf,CAlE4D;AAmEhE,QAAI,aAAa,wBAAe,QAAf,EAAyB,MAAzB,EAAiC,EAAjC,EAAqC,WAArC,CAAb,CAnE4D;AAoEhE,QAAI,aAAa,wBAAe,QAAf,EAAyB,MAAzB,EAAiC,EAAjC,EAAqC,WAArC,CAAb,CApE4D;AAqEhE,QAAI,mBAAmB,8BAAqB,QAArB,EAA+B,YAA/B,EAA6C,EAA7C,EAAiD,CAAC,SAAD,EAAY,WAAZ,CAAjD,CAAnB,CArE4D;;AAuEhE,QAAI,aAAa,qBAAY,MAAZ,CAAb,CAvE4D;AAwEhE,eAAW,QAAX,CAAoB,CAAC,WAAD,CAApB,EAxEgE;;AA0EhE,QAAI,aAAa,qBAAY,MAAZ,CAAb,CA1E4D;AA2EhE,eAAW,QAAX,CAAoB,CAAC,WAAD,CAApB,EA3EgE;;AA6EhE,QAAI,aAAa,qBAAY,MAAZ,CAAb,CA7E4D;AA8EhE,eAAW,QAAX,CAAoB,CAAC,WAAD,CAApB,EA9EgE;;AAgFhE,QAAI,aAAa,qBAAY,MAAZ,CAAb,CAhF4D;AAiFhE,eAAW,QAAX,CAAoB,CAAC,WAAD,CAApB,EAjFgE;;AAmFhE,QAAI,aAAa,qBAAY,MAAZ,CAAb,CAnF4D;AAoFhE,eAAW,QAAX,CAAoB,CAAC,WAAD,CAApB,EApFgE;;AAsFhE,YAAQ,QAAR,CAAiB,SAAjB,EAtFgE;AAuFhE,gBAAY,QAAZ,CAAqB,SAArB,EAvFgE;AAwFhE,gBAAY,QAAZ,CAAqB,SAArB,EAxFgE;AAyFhE,kBAAc,QAAd,CAAuB,QAAQ,OAAR,CAAvB,CAzFgE;AA0FhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CA1FgE;AA2FhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CA3FgE;AA4FhE,iBAAa,QAAb,CAAsB,QAAQ,OAAR,CAAtB,CA5FgE;AA6FhE,wBAAoB,QAApB,CAA6B,QAAQ,OAAR,CAA7B,CA7FgE;AA8FhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CA9FgE;AA+FhE,qBAAiB,QAAjB,CAA0B,QAAQ,OAAR,CAA1B,CA/FgE;AAgGhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CAhGgE;AAiGhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CAjGgE;AAkGhE,gBAAY,QAAZ,CAAqB,QAAQ,OAAR,CAArB,CAlGgE;AAmGhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CAnGgE;AAoGhE,wBAAoB,QAApB,CAA6B,QAAQ,OAAR,CAA7B,CApGgE;AAqGhE,sBAAkB,QAAlB,CAA2B,QAAQ,OAAR,CAA3B,CArGgE;AAsGhE,kBAAc,QAAd,CAAuB,QAAQ,OAAR,CAAvB,CAtGgE;AAuGhE,iBAAa,QAAb,CAAsB,QAAQ,OAAR,CAAtB,CAvGgE;AAwGhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CAxGgE;AAyGhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CAzGgE;AA0GhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CA1GgE;AA2GhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CA3GgE;AA4GhE,qBAAiB,QAAjB,CAA0B,QAAQ,OAAR,CAA1B,CA5GgE;AA6GhE,YAAQ,QAAR,CAAiB,QAAQ,OAAR,CAAjB,CA7GgE;AA8GhE,eAAW,QAAX,CAAoB,QAAQ,OAAR,CAApB,CA9GgE;AA+GhE,gBAAY,QAAZ,CAAqB,QAAQ,OAAR,CAArB,CA/GgE;AAgHhE,kBAAc,QAAd,CAAuB,QAAQ,OAAR,CAAvB,CAhHgE;;AAkHhE,gBAAY,MAAZ,CAAmB,aAAnB,EAAkC,UAAU,CAAV,EAAa;AAC7C,WAAK,MAAL,CAAY,MAAZ,CAAmB,EAAE,MAAF,CAAS,KAAT,EAAgB,CAAC,EAAE,MAAF,CAAS,cAAT,EAAyB,EAAE,MAAF,CAAS,YAAT,CAA7D,EAAqF,KAAK,MAAL,CAAY,KAAZ,EAAmB,KAAK,MAAL,CAAY,KAAZ,CAAxG,CAD6C;AAE7C,QAAE,MAAF,CAAS,aAAT,4BAF6C;KAAb,EAG/B,KAHH,EAlHgE;;AAuHhE,gBAAY,MAAZ,CAAmB,aAAnB,EAAkC,UAAU,CAAV,EAAa;AAC7C,UAAI,OAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAAK,MAAL,CAAY,KAAZ,CAAlB,CAAqC,IAArC,CADkC;AAE7C,UAAI,KAAK,MAAL,CAAY,KAAZ,KAAsB,CAAtB,EAAyB;AAC3B,mBAAW,QAAX,CAAoB,CAAC,UAAD,CAApB,EAD2B;OAA7B,MAEO;AACL,mBAAW,WAAX,CAAuB,CAAC,UAAD,CAAvB,EADK;OAFP;AAKA,UAAI,KAAK,MAAL,CAAY,KAAZ,KAAsB,KAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,GAA2B,CAA3B,EAA8B;AACtD,mBAAW,QAAX,CAAoB,CAAC,UAAD,CAApB,EADsD;OAAxD,MAEO;AACL,mBAAW,WAAX,CAAuB,CAAC,UAAD,CAAvB,EADK;OAFP;AAKA,QAAE,MAAF,CAAS,WAAT,CAAqB,KAArB,GAA6B,IAA7B,CAZ6C;KAAb,EAa/B,KAbH;;;;;AAvHgE,eAyIhE,CAAY,MAAZ,CAAmB,OAAnB,EAA4B,UAAU,CAAV,EAAa;AACvC,aAAO,YAAP,CAAoB,SAApB,EADuC;AAEvC,kBAAY,OAAO,UAAP,CAAkB,YAAM;AAClC,UAAE,MAAF,CAAS,aAAT,4BADkC;OAAN,EAE3B,IAFS,CAAZ,CAFuC;KAAb,EAKzB,KALH;;;;;AAzIgE,eAmJhE,CAAY,MAAZ,CAAmB,QAAnB,EAA6B,UAAU,CAAV,EAAa;AACxC,QAAE,MAAF,CAAS,aAAT,4BADwC;KAAb,EAE1B,KAFH;;;;;AAnJgE,eA0JhE,CAAY,MAAZ,CAAmB,OAAnB,EAA4B,UAAU,CAAV,EAAa;AACvC,iBAAW,YAAM;AACf,UAAE,MAAF,CAAS,aAAT,4BADe;OAAN,EAER,CAFH,EADuC;KAAb,EAIzB,KAJH;;;;;AA1JgE,eAmKhE,CAAY,MAAZ,CAAmB,KAAnB,EAA0B,UAAU,CAAV,EAAa;AACrC,iBAAW,YAAM;AACf,UAAE,MAAF,CAAS,aAAT,4BADe;OAAN,EAER,CAFH,EADqC;KAAb,EAIvB,KAJH,EAnKgE;;AAyKhE,QAAI,kBAAkB,CAAlB;;;;;AAzK4D,eA8KhE,CAAY,MAAZ,CAAmB,SAAnB,EAA8B,UAAU,CAAV,EAAa;AACzC,UAAI,EAAE,KAAF,KAAY,CAAZ,EAAe,kBAAkB,EAAE,MAAF,CAAS,YAAT,GAAwB,EAAE,MAAF,CAAS,cAAT,CAA7D;KAD4B,CAA9B,CA9KgE;;AAkLhE,QAAI,SAAS,EAAT;AAlL4D,QAmL5D,eAAe,CACjB,EADiB;AAEjB,MAFiB;AAGjB,MAHiB;AAIjB,MAJiB;AAKjB,MALiB;AAMjB,MANiB;AAOjB,MAPiB;AAQjB,MARiB;AASjB,MATiB;AAUjB,OAViB;AAWjB;AAXiB,KAAf;;;;;;AAnL4D,eAqMhE,CAAY,MAAZ,CAAmB,UAAnB,EAA+B,UAAU,CAAV,EAAa;AAC1C,aAAO,IAAP,CAAY,EAAE,KAAF,CAAZ,CAD0C;AAE1C,UAAI,OAAO,MAAP,GAAgB,CAAhB,EAAmB,OAAO,KAAP,GAAvB;AACA,mBAAa,OAAb,CAAqB,UAAC,WAAD,EAAiB;AACpC,YAAI,EAAE,KAAF,KAAY,EAAZ,IAAkB,OAAO,CAAP,MAAc,WAAd,EAA2B;AAC/C,iBAAO,OAAO,YAAP,CAAoB,SAApB,CAAP,CAD+C;SAAjD;AAGA,YAAI,EAAE,KAAF,KAAY,WAAZ,EAAyB;AAC3B,iBAAO,YAAP,CAAoB,SAApB,EAD2B;AAE3B,iBAAO,EAAE,MAAF,CAAS,aAAT,2BAAP,CAF2B;SAA7B;OAJmB,CAArB,CAH0C;KAAb,CAA/B;;;;;AArMgE,eAsNhE,CAAY,MAAZ,CAAmB,OAAnB,EAA4B,UAAU,CAAV,EAAa;AACvC,UAAI,EAAE,KAAF,KAAY,CAAZ,IAAiB,kBAAkB,CAAlB,EAAqB;AACxC,eAAO,YAAP,CAAoB,SAApB,EADwC;AAExC,0BAAkB,CAAlB,CAFwC;AAGxC,UAAE,MAAF,CAAS,aAAT,4BAHwC;OAA1C;KAD0B,CAA5B,CAtNgE;;AA8NhE,gBAAY,MAAZ,CAAmB,QAAnB,EAA6B,UAAU,CAAV,EAAa;AACxC,QAAE,MAAF,CAAS,aAAT,4BADwC;KAAb,CAA7B,CA9NgE;;AAkOhE,gBAAY,MAAZ,CAAmB,MAAnB,EAA2B,UAAU,CAAV,EAAa;AACtC,QAAE,MAAF,CAAS,aAAT,0BADsC;KAAb,CAA3B,CAlOgE;;AAsOhE,gBAAY,MAAZ,CAAmB,OAAnB,EAA4B,UAAU,CAAV,EAAa;AACvC,QAAE,MAAF,CAAS,aAAT,2BADuC;KAAb,CAA5B,CAtOgE;;AA0OhE,gBAAY,MAAZ,CAAmB,OAAnB,EAA4B,YAAY;AACtC,kBAAY,OAAZ,CAAoB,KAApB,CAA0B,UAA1B,GAAuC,QAAvC,CADsC;AAEtC,kBAAY,WAAZ,CAAwB,CAAC,SAAD,CAAxB,EAFsC;AAGtC,iBAAW,OAAX,CAAmB,KAAnB,CAAyB,UAAzB,GAAsC,QAAtC,CAHsC;AAItC,iBAAW,WAAX,CAAuB,CAAC,SAAD,CAAvB,EAJsC;AAKtC,oBAAc,OAAd,CAAsB,KAAtB,CAA4B,UAA5B,GAAyC,QAAzC,CALsC;AAMtC,oBAAc,WAAd,CAA0B,CAAC,SAAD,CAA1B,EANsC;KAAZ,CAA5B,CA1OgE;GAAlB,CAAhD,CAH2C;CAA9B;;;;;;;;;;;;AANf,IAAI,qBAAJ;;;;;;;;ACRA;;;;;;;;;;;;;;kBASe,UAAU,KAAV,EAAiB,UAAjB,EAA6B,EAA7B,EAAiC;AAC9C,UAAQ,MAAM,KAAN,CAAY,CAAZ,EAAe,aAAa,CAAb,CAAvB,CAD8C;AAE9C,MAAI,aAAa,IAAb,CAF0C;AAG9C,QAAM,IAAN,CAAW,UAAX,EAH8C;AAI9C,eAJ8C;AAK9C,MAAI,aAAa,GAAb,EAAkB;AACpB,UAAM,KAAN,GADoB;AAEpB,iBAFoB;GAAtB;AAIA,SAAO,EAAC,OAAO,KAAP,EAAc,OAAO,UAAP,EAAtB,CAT8C;CAAjC;;;ACTf;;;;;;;;;;;;QAQgB;QAYA;QAiBA;QAWA;QAUA;QAUA;QASA;AArET,SAAS,YAAT,CAAuB,MAAvB,EAA+B,KAA/B,EAAsC,KAAtC,EAA6C;AAClD,MAAI,MAAM,KAAC,KAAU,IAAV,GAAkB,OAAO,SAAP,CAAiB,KAAjB,CAAnB,GAA6C,MAA7C,CADwC;AAElD,MAAI,UAAU,IAAI,KAAJ,CAAU,KAAV,CAAV,CAF8C;AAGlD,SAAO,UAAU,IAAI,OAAJ,CAAY,QAAQ,CAAR,CAAZ,IAA0B,KAA1B,GAAkC,CAAC,CAAD,CAHD;CAA7C;;;;;;;;AAYA,SAAS,gBAAT,CAA2B,MAA3B,EAAmC,KAAnC,EAA0C,KAA1C,EAAiD;AACtD,MAAI,MAAM,KAAC,KAAU,IAAV,GAAkB,OAAO,SAAP,CAAiB,KAAjB,CAAnB,GAA6C,MAA7C,CAD4C;AAEtD,MAAI,UAAU,IAAI,KAAJ,CAAU,KAAV,CAAV,CAFkD;AAGtD,MAAI,UAAU,EAAV,CAHkD;AAItD,UAAQ,OAAR,CAAgB,UAAU,KAAV,EAAiB,CAAjB,EAAoB;AAClC,QAAI,YAAY,UAAU,QAAQ,IAAI,CAAJ,CAAlB,GAA2B,IAA3B,CADkB;AAElC,YAAQ,IAAR,CAAa,IAAI,OAAJ,CAAY,KAAZ,EAAmB,YAAY,CAAZ,CAAnB,GAAoC,KAApC,CAAb,CAFkC;GAApB,CAAhB,CAJsD;AAQtD,SAAO,WAAW,CAAC,CAAD,CARoC;CAAjD;;;;;;;;AAiBA,SAAS,gBAAT,CAA2B,MAA3B,EAAmC,KAAnC,EAA0C,KAA1C,EAAiD;AACtD,MAAI,MAAM,KAAC,KAAU,IAAV,GAAkB,OAAO,SAAP,CAAiB,CAAjB,EAAoB,KAApB,CAAnB,GAAgD,MAAhD,CAD4C;AAEtD,MAAI,UAAU,IAAI,KAAJ,CAAU,KAAV,CAAV,CAFkD;AAGtD,SAAO,UAAU,IAAI,WAAJ,CAAgB,QAAQ,QAAQ,MAAR,GAAiB,CAAjB,CAAxB,CAAV,GAAyD,CAAC,CAAD,CAHV;CAAjD;;;;;;;AAWA,SAAS,kBAAT,CAA6B,MAA7B,EAAqC,KAArC,EAA4C;AACjD,MAAI,MAAM,QAAQ,OAAO,SAAP,CAAiB,CAAjB,EAAoB,KAApB,CAAR,GAAqC,MAArC,CADuC;AAEjD,SAAO,IAAI,KAAJ,CAAU,YAAV,CAAP,CAFiD;CAA5C;;;;;;;AAUA,SAAS,UAAT,CAAqB,MAArB,EAA6B,KAA7B,EAAoC;AACzC,MAAI,MAAM,QAAQ,OAAO,SAAP,CAAiB,KAAjB,CAAR,GAAkC,MAAlC,CAD+B;AAEzC,SAAO,IAAI,KAAJ,CAAU,YAAV,CAAP,CAFyC;CAApC;;;;;;;AAUA,SAAS,WAAT,CAAsB,MAAtB,EAAyC;MAAX,8DAAQ,iBAAG;;AAC9C,SAAO,iBAAiB,MAAjB,EAAyB,OAAzB,EAAkC,KAAlC,CAAP,CAD8C;CAAzC;;;;;;;AASA,SAAS,SAAT,CAAoB,MAApB,EAAuC;MAAX,8DAAQ,iBAAG;;AAC5C,SAAO,aAAa,MAAb,EAAqB,aAArB,EAAoC,KAApC,CAAP,CAD4C;CAAvC","file":"marky.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\n\nimport marky from './src/marky'\nmodule.exports = marky\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n;(function() {\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, 'gm')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  ('hr', '\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))')\n  ('def', '\\\\n+(?=' + block.def.source + ')')\n  ();\n\nblock.blockquote = replace(block.blockquote)\n  ('def', block.def)\n  ();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = replace(block.html)\n  ('comment', /<!--[\\s\\S]*?-->/)\n  ('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  ('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  ('hr', block.hr)\n  ('heading', block.heading)\n  ('lheading', block.lheading)\n  ('blockquote', block.blockquote)\n  ('tag', '<' + block._tag)\n  ('def', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  ('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top, bq) {\n  var src = src.replace(/^ +$/gm, '')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false, bq);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if ((!bq && top) && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = replace(inline.link)\n  ('inside', inline._inside)\n  ('href', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  ('inside', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (']|', '~]|')\n    ('|', '|https?://|')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(inline.gfm.text)('{2,}', '*')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new\n      Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = ''\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = cap[1].charAt(6) === ':'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1]);\n        href = this.mangle('mailto:') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2], true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = ''\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? 'ol' : 'ul';\n  return '<' + type + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return '';\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {\n      return '';\n    }\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = ''\n        , body = ''\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      var body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      var body = ''\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case 'list_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n  return html.replace(/&([#\\w]+);/g, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/chjj/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occured:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer,\n  xhtml: false\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  this.marked = marked;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());\n","'use strict'\n\nimport {Marky} from './modules/Marky'\nlet marky = new Marky()\nexport default marky\n","'use strict'\n\nimport {Element} from './Element'\n\n/**\n * Creates HTML button elements\n * @class\n * @requires Element\n * @param {String}      type    tag name for the element\n * @param {String}      title   title for the element\n * @param {String}      id      editor ID to associate with the element\n * @param {HTMLElement} relevant  element this element should have access to\n */\nexport class HeadingButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Headings', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let dialog = this.relevant.element\n    icon.addClass(['fa', 'fa-header'])\n    icon.appendTo(this.element)\n    this.listen('click', (e) => {\n      e.preventDefault()\n      this.element.blur()\n      dialog.classList.toggle('toggled')\n      if (dialog.style.visibility === 'hidden') {\n        dialog.style.visibility = 'visible'\n        return\n      }\n      dialog.style.visibility = 'hidden'\n    })\n  }\n}\n\nexport class BoldButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Bold', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let editor = this.relevant.element\n    let icon = new Element('i')\n    icon.addClass(['fa', 'fa-bold'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.bold([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class ItalicButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Italic', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let editor = this.relevant.element\n    let icon = new Element('i')\n    icon.addClass(['fa', 'fa-italic'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.italic([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class StrikethroughButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Strikethrough', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-strikethrough'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.strikethrough([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class CodeButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Code', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-code'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.code([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class BlockquoteButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Blockquote', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-quote-right'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.blockquote([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class LinkButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Link', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let dialog = this.relevant[0].element\n    let editor = this.relevant[1].element\n    icon.addClass(['fa', 'fa-link'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      dialog.classList.toggle('toggled')\n      if (dialog.style.visibility === 'hidden') {\n        dialog.children[0].children[1].value = editor.value.substring(editor.selectionStart, editor.selectionEnd)\n        dialog.style.visibility = 'visible'\n        return\n      }\n      dialog.style.visibility = 'hidden'\n    })\n  }\n}\n\nexport class ImageButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Image', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let dialog = this.relevant[0].element\n    let editor = this.relevant[1].element\n    icon.addClass(['fa', 'fa-file-image-o'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      dialog.classList.toggle('toggled')\n      if (dialog.style.visibility === 'hidden') {\n        dialog.children[0].children[1].value = editor.value.substring(editor.selectionStart, editor.selectionEnd)\n        dialog.style.visibility = 'visible'\n        return\n      }\n      dialog.style.visibility = 'hidden'\n    })\n  }\n}\n\nexport class UnorderedListButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Unordered List', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-list-ul'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.unorderedList([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class OrderedListButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Ordered List', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-list-ol'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.orderedList([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class IndentButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Indent', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-indent'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.indent([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class OutdentButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Outdent', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-outdent'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return editor._marky.outdent([editor.selectionStart, editor.selectionEnd])\n    })\n  }\n}\n\nexport class UndoButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Undo', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-backward'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      if (this.element.classList.contains('disabled')) return\n      editor.focus()\n      return editor._marky.undo(1, editor._marky.state, editor._marky.index)\n    })\n  }\n}\n\nexport class RedoButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Redo', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let editor = this.relevant.element\n    icon.addClass(['fa', 'fa-forward'])\n    icon.appendTo(this.element)\n    this.listen('mousedown', (e) => {\n      e.preventDefault()\n      editor.focus()\n      return this.addClass(['active'])\n    })\n    this.listen('mouseup', () => {\n      return this.removeClass(['active'])\n    })\n    this.listen('click', (e) => {\n      e.preventDefault()\n      if (this.element.classList.contains('disabled')) return\n      editor.focus()\n      return editor._marky.redo(1, editor._marky.state, editor._marky.index)\n    })\n  }\n}\n\nexport class FullscreenButton extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'button', title || 'Image', id, relevant)\n    this.addClass([this.title, id])\n    this.assign('value', title)\n    let icon = new Element('i')\n    let container = this.relevant[0]\n    let editor = this.relevant[1].element\n    icon.addClass(['fa', 'fa-expand'])\n    icon.appendTo(this.element)\n    this.listen('click', (e) => {\n      e.preventDefault()\n      this.element.blur()\n      container.classList.toggle('fullscreen-toggled')\n      editor.classList.toggle('fullscreen-toggled')\n      this.element.classList.toggle('fullscreen-toggled')\n      icon.element.classList.toggle('fa-expand')\n      icon.element.classList.toggle('fa-compress')\n      return\n    })\n  }\n}\n","'use strict'\n\nimport {Element} from './Element'\nimport {HeadingItem} from './ListItems'\n\n/**\n * Creates dialog (modal) elements\n * @class\n * @requires Element\n * @param {String}      type    tag name for the element\n * @param {String}      title   title for the element\n * @param {String}      id      editor ID to associate with the element\n * @param {HTMLElement} relevant  element this element should have access to\n */\n\nexport class LinkDialog extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'div', title || 'Link Dialog', id, relevant)\n    this.addClass([this.title, id, 'dialog'])\n    let element = this.element\n    let editor = this.relevant.element\n\n    let linkForm = new Element('form', 'Link-Form')\n    linkForm.assign('id', id + '-link-form')\n\n    let linkUrlInput = new Element('input', 'Link-Url')\n    linkUrlInput.addClass(['link-url-input'])\n    linkUrlInput.assign('type', 'text')\n    linkUrlInput.assign('name', id + '-link-url-input')\n    linkUrlInput.assign('placeholder', 'http://url.com')\n\n    let linkDisplayInput = new Element('input', 'Link-Display')\n    linkDisplayInput.addClass(['link-display-input'])\n    linkDisplayInput.assign('type', 'text')\n    linkDisplayInput.assign('name', id + '-link-display-input')\n    linkDisplayInput.assign('placeholder', 'Display text')\n\n    let insertButton = new Element('button', 'Insert Link')\n    insertButton.addClass(['insert-link'])\n    insertButton.assign('textContent', 'Insert')\n\n    linkForm.appendTo(this.element)\n    linkUrlInput.appendTo(linkForm.element)\n    linkDisplayInput.appendTo(linkForm.element)\n    insertButton.appendTo(linkForm.element)\n\n    linkForm.listen('submit', (e) => {\n      e.preventDefault()\n      editor.focus()\n    })\n    insertButton.listen('click', (e) => {\n      e.preventDefault\n      editor.focus()\n      let url = linkUrlInput.element.value ? linkUrlInput.element.value : 'http://url.com'\n      let display = linkDisplayInput.element.value ? linkDisplayInput.element.value : url\n      linkUrlInput.element.value = ''\n      linkDisplayInput.element.value = ''\n      element.style.visibility = 'hidden'\n      this.removeClass(['toggled'])\n      return editor._marky.link([editor.selectionStart, editor.selectionEnd], url, display)\n    })\n    this.relevant.listen('click', () => {\n      this.removeClass(['toggled'])\n      element.style.visibility = 'hidden'\n    })\n  }\n}\n\nexport class ImageDialog extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'div', title || 'Image Dialog', id, relevant)\n    this.addClass([this.title, id, 'dialog'])\n    let element = this.element\n    let editor = this.relevant.element\n\n    let imageForm = new Element('form', 'Image-Form')\n    imageForm.assign('id', id + '-image-form')\n\n    let imageSourceInput = new Element('input', 'Image-Source')\n    imageSourceInput.addClass(['image-source-input'])\n    imageSourceInput.assign('type', 'text')\n    imageSourceInput.assign('name', id + '-image-source-input')\n    imageSourceInput.assign('placeholder', 'http://imagesource.com/image.jpg')\n\n    let imageAltInput = new Element('input', 'Image-Alt')\n    imageAltInput.addClass(['image-alt-input'])\n    imageAltInput.assign('type', 'text')\n    imageAltInput.assign('name', id + '-image-display-input')\n    imageAltInput.assign('placeholder', 'Alt text')\n\n    let insertButton = new Element('button', 'Insert Image')\n    insertButton.addClass(['insert-image'])\n    insertButton.assign('textContent', 'Insert')\n\n    imageForm.appendTo(this.element)\n    imageSourceInput.appendTo(imageForm.element)\n    imageAltInput.appendTo(imageForm.element)\n    insertButton.appendTo(imageForm.element)\n\n    imageForm.listen('submit', (e) => {\n      e.preventDefault()\n      editor.focus()\n    })\n    insertButton.listen('click', (e) => {\n      e.preventDefault\n      editor.focus()\n      let source = imageSourceInput.element.value ? imageSourceInput.element.value : 'http://imagesource.com/image.jpg'\n      let alt = imageAltInput.element.value ? imageAltInput.element.value : source\n      imageSourceInput.element.value = ''\n      imageAltInput.element.value = ''\n      element.style.visibility = 'hidden'\n      this.removeClass(['toggled'])\n      return editor._marky.image([editor.selectionStart, editor.selectionEnd], source, alt)\n    })\n    this.relevant.listen('click', () => {\n      this.removeClass(['toggled'])\n      element.style.visibility = 'hidden'\n    })\n  }\n}\n\nexport class HeadingDialog extends Element {\n  constructor (type, title, id, relevant) {\n    super(type || 'div', title || 'Heading Dialog', id, relevant)\n    this.addClass([this.title, id, 'dialog'])\n    let element = this.element\n    let editor = this.relevant.element\n\n    let headingList = new Element('ul', 'Heading-List')\n    headingList.assign('id', id + '-heading-list')\n\n    let option1 = new HeadingItem('li', 'Heading 1', '1')\n    let option2 = new HeadingItem('li', 'Heading 2', '2')\n    let option3 = new HeadingItem('li', 'Heading 3', '3')\n    let option4 = new HeadingItem('li', 'Heading 4', '4')\n    let option5 = new HeadingItem('li', 'Heading 5', '5')\n    let option6 = new HeadingItem('li', 'Heading 6', '6')\n    let remove = new HeadingItem('li', 'Remove Heading', '0', 'fa-remove')\n\n    headingList.appendTo(element)\n    option1.appendTo(headingList.element)\n    option2.appendTo(headingList.element)\n    option3.appendTo(headingList.element)\n    option4.appendTo(headingList.element)\n    option5.appendTo(headingList.element)\n    option6.appendTo(headingList.element)\n    remove.appendTo(headingList.element)\n\n    Array.prototype.forEach.call(headingList.element.children, (el) => {\n      el.children[0].addEventListener('click', (e) => {\n        e.preventDefault()\n        let value = parseInt(e.target.value)\n        editor.focus()\n        this.removeClass(['toggled'])\n        element.style.visibility = 'hidden'\n        editor._marky.heading(value, [editor.selectionStart, editor.selectionEnd])\n      })\n    })\n  }\n}\n","'use strict'\n\n/**\n * Creates an HTML element with some built-in shortcut methods\n * @class\n * @param {String}      type    tag name for the element\n * @param {String}      title   title for the element\n * @param {String}      id      editor ID to associate with the element\n * @param {HTMLElement} relevant  element this element should have access to\n */\nexport class Element {\n  constructor (type, title = null, id = null, relevant = null) {\n    this.title = title\n    this.type = type\n    this.id = id\n    this.relevant = relevant\n    this.element = this.register()\n    if (this.title) this.element.title = this.title\n  }\n\n  register () {\n    return document.createElement(this.type)\n  }\n\n  assign (prop, value) {\n    this.element[prop] = value\n  }\n\n  appendTo (container) {\n    container.appendChild(this.element)\n  }\n\n  addClass (classNames) {\n    classNames.forEach((className) => {\n      this.element.classList.add(className.replace(/[ ]/g, '-').toLowerCase())\n    })\n  }\n\n  removeClass (classNames) {\n    classNames.forEach((className) => {\n      this.element.classList.remove(className.replace(/[ ]/g, '-').toLowerCase())\n    })\n  }\n\n  listen (evt, cb) {\n    this.element.addEventListener(evt, cb)\n  }\n}\n","'use strict'\n\nimport {Element} from './Element'\n\n/**\n * Creates HTML option elements\n * @class\n * @requires Element\n * @param {String}  type    tag name for the element\n * @param {String}  title   title for the element\n * @param {String}  value   a value to assign the element\n */\nexport class HeadingItem extends Element {\n  constructor (type, title, value, iconClass = null) {\n    super(type || 'li', title)\n    this.addClass([this.title.replace(' ', '-')])\n    this.assign('value', value)\n    let button = new Element('button', title)\n    button.assign('value', value)\n    button.addClass(['heading-button'])\n    button.appendTo(this.element)\n    if (iconClass) {\n      let icon = new Element('i')\n      icon.addClass(['fa', iconClass])\n      icon.appendTo(button.element)\n    } else {\n      button.assign('textContent', value)\n    }\n  }\n}\n","'use strict'\n\n/**\n * Marky Mark\n * Author: Patrick Fricano\n * https://www.github.com/patrickfatrick/marky-marked\n */\n\nimport mark from './mark'\nimport * as dispatcher from './dispatcher'\nimport {markyupdate, markychange} from './custom-events'\nimport {inlineHandler, blockHandler, insertHandler, listHandler, indentHandler} from './handlers'\n\nexport class Marky {\n  constructor (editor, container) {\n    this.mark = mark\n    this.state = [{markdown: '', html: '', selection: [0, 0]}]\n    this.index = 0\n    this.editor = editor\n    this.container = container\n  }\n\n  /**\n   * Removes the container and all descendants from the DOM\n   * @param  {container} container the container used to invoke `mark()`\n   */\n  destroy (container = this.container) {\n    container.remove()\n  }\n  /**\n   * Handles updating the state on forward-progress changes\n   * @requires dispatcher/update\n   * @param {String} markdown the new markdown blob\n   * @param {Array}  state    the state timeline\n   * @param {Number} index    current state index\n   */\n  update (markdown, selection = [0, 0], state = this.state, index = this.index) {\n    const action = dispatcher.update(markdown, selection, state, index)\n    this.state = action.state\n    this.index = action.index\n  }\n\n  /**\n   * Handles moving backward in state\n   * @requires dispatcher/undo\n   * @param   {Number}      num    number of states to move back\n   * @param   {Array}       state  the state timeline\n   * @param   {Number}      index  current state index\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Number}      the new index\n   */\n  undo (num = 1, state = this.state, index = this.index, editor = this.editor) {\n    if (index === 0) return index\n\n    const action = dispatcher.undo(num, state, index)\n    this.index = action.index\n    editor.value = action.state.markdown\n    editor.setSelectionRange(action.state.selection[0], action.state.selection[1])\n    editor.nextSibling.value = action.state.html\n    editor.dispatchEvent(markychange)\n    return this.index\n  }\n\n  /**\n   * Handles moving forward in state\n   * @requires dispatcher/redo\n   * @param   {Number}      num    number of states to move back\n   * @param   {Array}       state  the state timeline\n   * @param   {Number}      index  current state index\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Number}      the new index\n   */\n  redo (num = 1, state = this.state, index = this.index, editor = this.editor) {\n    if (index === state.length - 1) return index\n\n    const action = dispatcher.redo(num, state, index)\n    this.index = action.index\n    editor.value = action.state.markdown\n    editor.setSelectionRange(action.state.selection[0], action.state.selection[1])\n    editor.nextSibling.value = action.state.html\n    editor.dispatchEvent(markychange)\n    return this.index\n  }\n\n  /**\n   * Setsa the selection indices in the editor\n   * @param   {Array}       arr    starting and ending indices\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Array}       the array that was passed in\n   */\n  setSelection (arr = [0, 0], editor = this.editor) {\n    editor.setSelectionRange(arr[0], arr[1])\n    return arr\n  }\n\n  /**\n   * expands the selection to the right\n   * @param   {Number}      num    number of characters to expand by\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Array}       the new selection indices\n   */\n  expandSelectionForward (num = 0, editor = this.editor) {\n    const start = editor.selectionStart\n    const end = editor.selectionEnd + num\n\n    editor.setSelectionRange(start, end)\n    return [start, end]\n  }\n\n  /**\n   * expands the selection to the left\n   * @param   {Number}      num    number of characters to expand by\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Array}       the new selection indices\n   */\n  expandSelectionBackward (num = 0, editor = this.editor) {\n    const start = editor.selectionStart - num\n    const end = editor.selectionEnd\n\n    editor.setSelectionRange(start, end)\n    return [start, end]\n  }\n\n  /**\n   * expands the cursor to the right\n   * @param   {Number}      num    number of characters to move by\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Array}       the new cursor position\n   */\n  moveCursorBackward (num = 0, editor = this.editor) {\n    const start = editor.selectionStart - num\n\n    editor.setSelectionRange(start, start)\n    return start\n  }\n\n  /**\n   * expands the cursor to the left\n   * @param   {Number}      num    number of characters to move by\n   * @param   {HTMLElement} editor the marky marked editor\n   * @returns {Array}       the new cursor position\n   */\n  moveCursorForward (num = 0, editor = this.editor) {\n    const start = editor.selectionStart + num\n\n    editor.setSelectionRange(start, start)\n    return start\n  }\n\n  /**\n   * implements a bold on a selection\n   * @requires handlers/inlineHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the bold\n   */\n  bold (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let boldify = inlineHandler(editor.value, indices, '**')\n    editor.value = boldify.value\n    editor.setSelectionRange(boldify.range[0], boldify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [boldify.range[0], boldify.range[1]]\n  }\n\n  /**\n   * implements an italic on a selection\n   * @requires handlers/inlineHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the italic\n   */\n  italic (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let italicize = inlineHandler(editor.value, indices, '_')\n    editor.value = italicize.value\n    editor.setSelectionRange(italicize.range[0], italicize.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [italicize.range[0], italicize.range[1]]\n  }\n\n  /**\n   * implements a strikethrough on a selection\n   * @requires handlers/inlineHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the strikethrough\n   */\n  strikethrough (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let strikitize = inlineHandler(editor.value, indices, '~~')\n    editor.value = strikitize.value\n    editor.setSelectionRange(strikitize.range[0], strikitize.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [strikitize.range[0], strikitize.range[1]]\n  }\n\n  /**\n   * implements a code on a selection\n   * @requires handlers/inlineHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the code\n   */\n  code (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let codify = inlineHandler(editor.value, indices, '`')\n    editor.value = codify.value\n    editor.setSelectionRange(codify.range[0], codify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [codify.range[0], codify.range[1]]\n  }\n\n  /**\n   * implements a blockquote on a selection\n   * @requires handlers/blockHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the bold\n   */\n  blockquote (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let quotify = blockHandler(editor.value, indices, '> ')\n    editor.value = quotify.value\n    editor.setSelectionRange(quotify.range[0], quotify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [quotify.range[0], quotify.range[1]]\n  }\n\n  /**\n   * implements a heading on a selection\n   * @requires handlers/blockHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the heading\n   */\n  heading (value = 0, indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let markArr = []\n    let mark\n    for (let i = 1; i <= value; i++) {\n      markArr.push('#')\n    }\n    mark = markArr.join('')\n    let space = mark ? ' ' : ''\n    let headingify = blockHandler(editor.value, indices, mark + space)\n    editor.value = headingify.value\n    editor.setSelectionRange(headingify.range[0], headingify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [headingify.range[0], headingify.range[1]]\n  }\n\n  /**\n   * inserts a link snippet at the end of a selection\n   * @requires handlers/insertHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the snippet is inserted\n   */\n  link (indices, url = 'http://url.com', display = 'http://url.com', editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    const mark = '[' + display + '](' + url + ')'\n    let linkify = insertHandler(editor.value, indices, mark)\n    editor.value = linkify.value\n    editor.setSelectionRange(linkify.range[0], linkify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [linkify.range[0], linkify.range[1]]\n  }\n\n  /**\n   * inserts an image snippet at the end of a selection\n   * @requires handlers/insertHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the snippet is inserted\n   */\n  image (indices, source = 'http://imagesource.com/image.jpg', alt = 'http://imagesource.com/image.jpg', editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    const mark = '![' + alt + '](' + source + ')'\n    let imageify = insertHandler(editor.value, indices, mark)\n    editor.value = imageify.value\n    editor.setSelectionRange(imageify.range[0], imageify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [imageify.range[0], imageify.range[1]]\n  }\n\n  /**\n   * implements an unordered list on a selection\n   * @requires handlers/listHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the list is implemented\n   */\n  unorderedList (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let listify = listHandler(editor.value, indices, 'ul')\n    editor.value = listify.value\n    editor.setSelectionRange(listify.range[0], listify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [listify.range[0], listify.range[1]]\n  }\n\n  /**\n   * implements an ordered list on a selection\n   * @requires handlers/listHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the list is implemented\n   */\n  orderedList (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let listify = listHandler(editor.value, indices, 'ol')\n    editor.value = listify.value\n    editor.setSelectionRange(listify.range[0], listify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [listify.range[0], listify.range[1]]\n  }\n\n  /**\n   * implements an indent on a selection\n   * @requires handlers/indentHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the indent is implemented\n   */\n  indent (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let indentify = indentHandler(editor.value, indices, 'in')\n    editor.value = indentify.value\n    editor.setSelectionRange(indentify.range[0], indentify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [indentify.range[0], indentify.range[1]]\n  }\n\n  /**\n   * implements an outdent on a selection\n   * @requires handlers/indentHandler\n   * @param   {Array}       indices starting and ending positions for the selection\n   * @param   {HTMLElement} editor  the marky marked editor\n   * @returns {Array}       the new selection after the outdent is implemented\n   */\n  outdent (indices, editor = this.editor) {\n    indices = indices || [editor.selectionStart, editor.selectionEnd]\n    let indentify = indentHandler(editor.value, indices, 'out')\n    editor.value = indentify.value\n    editor.setSelectionRange(indentify.range[0], indentify.range[1])\n    let html = editor._marky.state[editor._marky.index].html\n    editor.nextSibling.value = html\n    editor.dispatchEvent(markyupdate)\n    return [indentify.range[0], indentify.range[1]]\n  }\n}\n","/* global CustomEvent */\n'use strict'\n\n// Custom Event Polyfill for IE9+\n;(function () {\n  function CustomEvent (event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    }\n    var evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n\n  CustomEvent.prototype = window.Event.prototype\n\n  window.CustomEvent = CustomEvent\n})()\n\nexport var markyblur = new CustomEvent('markyblur')\nexport var markyfocus = new CustomEvent('markyfocus')\nexport var markyselect = new CustomEvent('markyselect')\nexport var markyupdate = new CustomEvent('markyupdate')\nexport var markychange = new CustomEvent('markychange')\n","'use strict'\n\nimport marked from 'marked'\nimport operation from './operation'\n\n/**\n * updates the state\n * @external marked\n * @requires operation\n * @param   {String} markdown   markdown blob\n * @param   {Array}  state      the state timeline\n * @param   {Number} stateIndex the current state index\n * @returns {Object} the newly active state\n */\nexport function update (markdown, selection, state, stateIndex) {\n  let markedOptions = {\n    sanitize: true\n  }\n  let html = marked(markdown, markedOptions).toString() || ''\n  let newState = operation(state, stateIndex, () => {\n    return {markdown: markdown, html: html, selection: selection}\n  })\n  return newState\n}\n\n/**\n * moves backward in state\n * @param   {Number} num        the number of states to move back by\n * @param   {Array}  state      the state timeline\n * @param   {Number} stateIndex the current state index\n * @returns {Object} the newly active state\n */\nexport function undo (num, state, stateIndex) {\n  stateIndex = (stateIndex > (num - 1)) ? stateIndex - num : 0\n  return {state: state[stateIndex], index: stateIndex}\n}\n\n/**\n * moves forwardin state\n * @param   {Number} num        the number of states to move back by\n * @param   {Array}  state      the state timeline\n * @param   {Number} stateIndex the current state index\n * @returns {Object} the newly active state\n */\nexport function redo (num, state, stateIndex) {\n  stateIndex = (stateIndex < state.length - (num + 1)) ? stateIndex + num : state.length - 1\n  return {state: state[stateIndex], index: stateIndex}\n}\n","'use strict'\n\nimport {indexOfMatch, splitLines, startOfLine, endOfLine} from './parsers'\n/**\n * Handles wrapping format strings around a selection\n * @param   {String} string  the entire string to use\n * @param   {Array}  indices the starting and ending positions to wrap\n * @param   {String} mark    the format string to use\n * @returns {Object} the new string, the updated indices\n */\nexport function inlineHandler (string, indices, mark) {\n  let value\n  let useMark = [mark, mark]\n  if (string.indexOf(mark) !== -1) {\n    indices.forEach(function (n, i) {\n      if (string.lastIndexOf(mark, n) === n - mark.length) {\n        string = string.substring(0, n - mark.length) + string.substring(n, string.length)\n        if (i === 0) {\n          indices[0] = indices[0] - mark.length\n          indices[1] = indices[1] - mark.length\n        } else {\n          indices[1] = indices[1] - mark.length\n        }\n        if (i === 1 && useMark[0]) indices[1] = indices[1] + mark.length\n        useMark[i] = ''\n      }\n      if (string.indexOf(mark, n) === n) {\n        string = string.substring(0, n) + string.substring(n + mark.length, string.length)\n        if (i === 0 && (indices[0] !== indices[1])) {\n          indices[1] = indices[1] - mark.length\n        }\n        if (i === 0 && (indices[0] === indices[1])) {\n          indices[0] = indices[0] - mark.length\n        }\n        if (i === 1 && useMark[0]) indices[1] = indices[1] + mark.length\n        useMark[i] = ''\n      }\n    })\n  }\n  value = string.substring(0, indices[0]) + useMark[0] + string.substring(indices[0], indices[1]) + useMark[1] + string.substring(indices[1], string.length)\n  return {value: value, range: [indices[0] + useMark[0].length, indices[1] + useMark[1].length]}\n}\n\n/**\n * Handles adding/removing a format string to a line\n * @param   {String} string  the entire string to use\n * @param   {Array}  indices the starting and ending positions to wrap\n * @param   {String} mark    the format string to use\n * @returns {Object} the new string, the updated indices\n */\nexport function blockHandler (string, indices, mark) {\n  const start = indices[0]\n  const end = indices[1]\n  let value\n  let lineStart = startOfLine(string, start)\n  let lineEnd = endOfLine(string, end)\n  if (indexOfMatch(string, /^[#>]/m, lineStart) === lineStart) {\n    let currentFormat = string.substring(lineStart, lineStart + string.substring(lineStart).search(/[0-9~*`_-]|\\b|\\n|$/gm))\n    value = string.substring(0, lineStart) + string.substring(lineStart + string.substring(lineStart).search(/[0-9~*`_-]|\\b|\\n|$/gm), string.length)\n    lineEnd = lineEnd - currentFormat.length\n    if (currentFormat.trim() !== mark.trim() && mark.trim().length) {\n      value = string.substring(0, lineStart) + mark + string.substring(lineStart + string.substring(lineStart).search(/[0-9~*`_-]|\\b|\\n|$/gm), string.length)\n      lineStart = lineStart + mark.length\n      lineEnd = lineEnd + mark.length\n    }\n    return {value: value, range: [lineStart, lineEnd]}\n  }\n  value = string.substring(0, lineStart) + mark + string.substring(lineStart, string.length)\n  return {value: value, range: [start + mark.length, end + mark.length]}\n}\n\n/**\n * Handles adding/removing format strings to groups of lines\n * @param   {String} string  the entire string to use\n * @param   {Array}  indices the starting and ending positions to wrap\n * @param   {String} type    ul or ol\n * @returns {Object} the new string, the updated indices\n */\nexport function listHandler (string, indices, type) {\n  const start = startOfLine(string, indices[0])\n  const end = endOfLine(string, indices[1])\n  const lines = splitLines(string.substring(start, end))\n  let newLines = []\n  let value\n  lines.forEach((line, i) => {\n    let mark = (type === 'ul') ? '-' + ' ' : (i + 1) + '.' + ' '\n    let newLine\n    if (indexOfMatch(line, /^[0-9#>-]/m, 0) === 0) {\n      let currentFormat = line.substring(0, 0 + line.substring(0).search(/[~*`_[!]|[a-zA-Z]|\\r|\\n|$/gm))\n      newLine = line.substring(line.search(/[~*`_[!]|[a-zA-Z]|\\r|\\n|$/gm), line.length)\n      if (currentFormat.trim() !== mark.trim()) {\n        newLine = mark + line.substring(line.search(/[~*`_[!]|[a-zA-Z]|\\r|\\n|$/gm), line.length)\n      }\n      return newLines.push(newLine)\n    }\n    newLine = mark + line.substring(0, line.length)\n    return newLines.push(newLine)\n  })\n  let joined = newLines.join('\\r\\n')\n  value = string.substring(0, start) + newLines.join('\\r\\n') + string.substring(end, string.length)\n  return {value: value, range: [start, start + joined.replace(/\\n/gm, '').length]}\n}\n\n/**\n * Handles adding/removing indentation to groups of lines\n * @param   {String} string  the entire string to use\n * @param   {Array}  indices the starting and ending positions to wrap\n * @param   {String} type    in or out\n * @returns {Object} the new string, the updated indices\n */\nexport function indentHandler (string, indices, type) {\n  const start = startOfLine(string, indices[0])\n  const end = endOfLine(string, indices[1])\n  const lines = splitLines(string.substring(start, end))\n  let newLines = []\n  let value\n  lines.forEach((line) => {\n    let mark = '    '\n    let newLine\n    if (type === 'out') {\n      newLine = (line.indexOf(mark, 0) === 0) ? line.substring(mark.length, line.length) : line.substring(line.search(/[~*`_[!#>-]|[a-zA-Z0-9]|\\r|\\n|$/gm), line.length)\n      return newLines.push(newLine)\n    }\n    newLine = mark + line.substring(0, line.length)\n    return newLines.push(newLine)\n  })\n  let joined = newLines.join('\\r\\n')\n  value = string.substring(0, start) + newLines.join('\\r\\n') + string.substring(end, string.length)\n  return {value: value, range: [start, start + joined.replace(/\\n/gm, '').length]}\n}\n\n/**\n * Handles inserting a snippet at the end of a selection\n * @param   {String} string  the entire string to use\n * @param   {Array}  indices the starting and ending positions to wrap\n * @param   {String} mark    the snippet to insert\n * @returns {Object} the new string, the updated indices\n */\nexport function insertHandler (string, indices, mark) {\n  const start = indices[0]\n  const end = indices[1]\n  let value\n  value = string.substring(0, start) + mark + string.substring(end, string.length)\n\n  return {value: value, range: [start, start + mark.length]}\n}\n","'use strict'\n\nimport {Marky} from './Marky'\nimport {Element} from './Element'\nimport {HeadingButton, BoldButton, ItalicButton, StrikethroughButton, CodeButton, BlockquoteButton, LinkButton, ImageButton, UnorderedListButton, OrderedListButton, IndentButton, OutdentButton, UndoButton, RedoButton, FullscreenButton} from './Buttons'\nimport {LinkDialog, ImageDialog, HeadingDialog} from './Dialogs'\nimport {markyblur, markyfocus, markyselect, markyupdate, markychange} from './custom-events'\n\nlet timeoutID // Used later for input events\n\n/**\n * Register and append the DOM elements needed and set the event listeners\n * @param   {String}  tag name to be used for initialization\n */\nexport default function (tag = 'marky-mark') {\n  let containers = document.getElementsByTagName(tag)\n  let idArr = []\n  return Array.prototype.forEach.call(containers, (container, i) => {\n    let idIndex = i\n    if (container.children.length) {\n      if (container.getAttribute('id')) idArr.push(parseInt(container.getAttribute('id').split('-')[2]))\n      return\n    }\n    let toolbar = new Element('div', 'Toolbar')\n\n    if (idArr.length) {\n      idArr.sort()\n      idIndex = idArr[idArr.length - 1] + 1\n    }\n\n    let id = 'marky-mark-' + idIndex\n    container.id = id\n    toolbar.addClass(['marky-toolbar', id])\n\n    let dialogs = new Element('div', 'Dialogs')\n    dialogs.addClass(['marky-dialogs', id])\n\n    let markyEditor = new Element('textarea', 'Marky Marked Editor')\n    markyEditor.addClass(['marky-editor', id])\n    markyEditor.assign('_marky', new Marky(markyEditor.element, container))\n\n    let markyOutput = new Element('input', 'Marky Marked Output')\n    markyOutput.assign('type', 'hidden')\n    markyOutput.addClass(['marky-output', id])\n\n    let headingDialog = new HeadingDialog('div', 'Heading Dialog', id, markyEditor)\n    headingDialog.element.style.visibility = 'hidden'\n\n    let linkDialog = new LinkDialog('div', 'Link Dialog', id, markyEditor)\n    linkDialog.element.style.visibility = 'hidden'\n\n    let imageDialog = new ImageDialog('div', 'Image Dialog', id, markyEditor)\n    imageDialog.element.style.visibility = 'hidden'\n\n    let headingButton = new HeadingButton('button', 'Heading', id, headingDialog)\n    headingButton.listen('click', function () {\n      imageDialog.element.style.visibility = 'hidden'\n      imageDialog.removeClass(['toggled'])\n      linkDialog.element.style.visibility = 'hidden'\n      linkDialog.removeClass(['toggled'])\n    })\n    let boldButton = new BoldButton('button', 'Bold', id, markyEditor)\n    let italicButton = new ItalicButton('button', 'Italic', id, markyEditor)\n    let strikethroughButton = new StrikethroughButton('button', 'Strikethrough', id, markyEditor)\n    let codeButton = new CodeButton('button', 'Code', id, markyEditor)\n    let blockquoteButton = new BlockquoteButton('button', 'Blockquote', id, markyEditor)\n    let linkButton = new LinkButton('button', 'Link', id, [linkDialog, markyEditor])\n    linkButton.listen('click', function () {\n      imageDialog.element.style.visibility = 'hidden'\n      imageDialog.removeClass(['toggled'])\n      headingDialog.element.style.visibility = 'hidden'\n      headingDialog.removeClass(['toggled'])\n    })\n    let imageButton = new ImageButton('button', 'Image', id, [imageDialog, markyEditor])\n    imageButton.listen('click', function () {\n      linkDialog.element.style.visibility = 'hidden'\n      linkDialog.removeClass(['toggled'])\n      headingDialog.element.style.visibility = 'hidden'\n      headingDialog.removeClass(['toggled'])\n    })\n    let unorderedListButton = new UnorderedListButton('button', 'Unordered List', id, markyEditor)\n    let orderedListButton = new OrderedListButton('button', 'Ordered List', id, markyEditor)\n    let outdentButton = new OutdentButton('button', 'Outdent', id, markyEditor)\n    let indentButton = new IndentButton('button', 'Indent', id, markyEditor)\n    let undoButton = new UndoButton('button', 'Undo', id, markyEditor)\n    let redoButton = new RedoButton('button', 'Redo', id, markyEditor)\n    let fullscreenButton = new FullscreenButton('button', 'Fullscreen', id, [container, markyEditor])\n\n    let separatorA = new Element('span')\n    separatorA.addClass(['separator'])\n\n    let separatorB = new Element('span')\n    separatorB.addClass(['separator'])\n\n    let separatorC = new Element('span')\n    separatorC.addClass(['separator'])\n\n    let separatorD = new Element('span')\n    separatorD.addClass(['separator'])\n\n    let separatorE = new Element('span')\n    separatorE.addClass(['separator'])\n\n    toolbar.appendTo(container)\n    markyEditor.appendTo(container)\n    markyOutput.appendTo(container)\n    headingButton.appendTo(toolbar.element)\n    separatorA.appendTo(toolbar.element)\n    boldButton.appendTo(toolbar.element)\n    italicButton.appendTo(toolbar.element)\n    strikethroughButton.appendTo(toolbar.element)\n    codeButton.appendTo(toolbar.element)\n    blockquoteButton.appendTo(toolbar.element)\n    separatorB.appendTo(toolbar.element)\n    linkButton.appendTo(toolbar.element)\n    imageButton.appendTo(toolbar.element)\n    separatorC.appendTo(toolbar.element)\n    unorderedListButton.appendTo(toolbar.element)\n    orderedListButton.appendTo(toolbar.element)\n    outdentButton.appendTo(toolbar.element)\n    indentButton.appendTo(toolbar.element)\n    separatorD.appendTo(toolbar.element)\n    undoButton.appendTo(toolbar.element)\n    redoButton.appendTo(toolbar.element)\n    separatorE.appendTo(toolbar.element)\n    fullscreenButton.appendTo(toolbar.element)\n    dialogs.appendTo(toolbar.element)\n    linkDialog.appendTo(dialogs.element)\n    imageDialog.appendTo(dialogs.element)\n    headingDialog.appendTo(dialogs.element)\n\n    markyEditor.listen('markyupdate', function (e) {\n      this._marky.update(e.target.value, [e.target.selectionStart, e.target.selectionEnd], this._marky.state, this._marky.index)\n      e.target.dispatchEvent(markychange)\n    }, false)\n\n    markyEditor.listen('markychange', function (e) {\n      let html = this._marky.state[this._marky.index].html\n      if (this._marky.index === 0) {\n        undoButton.addClass(['disabled'])\n      } else {\n        undoButton.removeClass(['disabled'])\n      }\n      if (this._marky.index === this._marky.state.length - 1) {\n        redoButton.addClass(['disabled'])\n      } else {\n        redoButton.removeClass(['disabled'])\n      }\n      e.target.nextSibling.value = html\n    }, false)\n\n    /**\n     * Listen for input events, set timeout to update state, clear timeout from previous input\n     */\n    markyEditor.listen('input', function (e) {\n      window.clearTimeout(timeoutID)\n      timeoutID = window.setTimeout(() => {\n        e.target.dispatchEvent(markyupdate)\n      }, 1000)\n    }, false)\n\n    /**\n     * Listen for change events (requires loss of focus) and update state\n     */\n    markyEditor.listen('change', function (e) {\n      e.target.dispatchEvent(markyupdate)\n    }, false)\n\n    /**\n     * Listen for pasting into the editor and update state\n     */\n    markyEditor.listen('paste', function (e) {\n      setTimeout(() => {\n        e.target.dispatchEvent(markyupdate)\n      }, 0)\n    }, false)\n\n    /**\n     * Listen for cutting from the editor and update state\n     */\n    markyEditor.listen('cut', function (e) {\n      setTimeout(() => {\n        e.target.dispatchEvent(markyupdate)\n      }, 0)\n    }, false)\n\n    let deleteSelection = 0\n\n    /**\n     * Listen for keydown events, if key is delete key, set deleteSelection to length of selection\n     */\n    markyEditor.listen('keydown', function (e) {\n      if (e.which === 8) deleteSelection = e.target.selectionEnd - e.target.selectionStart\n    })\n\n    let keyMap = [] // Used for determining whether or not to update state on space keyup\n    let punctuations = [\n      46, // period\n      44, // comma\n      63, // question mark\n      33, // exclamation point\n      58, // colon\n      59, // semi-colon\n      47, // back slash\n      92, // forward slash\n      38, // ampersand\n      124, // vertical pipe\n      32 // space\n    ]\n\n    /**\n     * Listen for keyup events, if key is space or punctuation\n     * (but not a space following punctuation or another space), update state and clear input timeout.\n     */\n    markyEditor.listen('keypress', function (e) {\n      keyMap.push(e.which)\n      if (keyMap.length > 2) keyMap.shift()\n      punctuations.forEach((punctuation) => {\n        if (e.which === 32 && keyMap[0] === punctuation) {\n          return window.clearTimeout(timeoutID)\n        }\n        if (e.which === punctuation) {\n          window.clearTimeout(timeoutID)\n          return e.target.dispatchEvent(markyupdate)\n        }\n      })\n    })\n\n    /**\n     * Listen for keyup events, if key is delete and it's a bulk selection, update state and clear input timeout.\n     */\n    markyEditor.listen('keyup', function (e) {\n      if (e.which === 8 && deleteSelection > 0) {\n        window.clearTimeout(timeoutID)\n        deleteSelection = 0\n        e.target.dispatchEvent(markyupdate)\n      }\n    })\n\n    markyEditor.listen('select', function (e) {\n      e.target.dispatchEvent(markyselect)\n    })\n\n    markyEditor.listen('blur', function (e) {\n      e.target.dispatchEvent(markyblur)\n    })\n\n    markyEditor.listen('focus', function (e) {\n      e.target.dispatchEvent(markyfocus)\n    })\n\n    markyEditor.listen('click', function () {\n      imageDialog.element.style.visibility = 'hidden'\n      imageDialog.removeClass(['toggled'])\n      linkDialog.element.style.visibility = 'hidden'\n      linkDialog.removeClass(['toggled'])\n      headingDialog.element.style.visibility = 'hidden'\n      headingDialog.removeClass(['toggled'])\n    })\n  })\n}\n","'use strict'\n\n/**\n * Handles adding and removing state\n * @param   {Array}    state      the state timeline\n * @param   {Number}   stateIndex the current state index\n * @param   {Function} fn         a function to call\n * @returns {Object}   the new timeline\n */\nexport default function (state, stateIndex, fn) {\n  state = state.slice(0, stateIndex + 1)\n  let newVersion = fn()\n  state.push(newVersion)\n  stateIndex++\n  if (stateIndex > 999) {\n    state.shift()\n    stateIndex--\n  }\n  return {state: state, index: stateIndex}\n}\n","'use strict'\n\n/**\n * Finds the first index based on a regex match\n * @param   {RegExp} regex a regex object\n * @param   {Number} index optional starting index\n * @returns {Number} the index of the match\n */\nexport function indexOfMatch (string, regex, index) {\n  var str = (index !== null) ? string.substring(index) : string\n  var matches = str.match(regex)\n  return matches ? str.indexOf(matches[0]) + index : -1\n}\n\n/**\n * Finds the first index based on a regex match\n * @param   {RegExp} regex a regex object\n * @param   {Number} index optional starting index\n * @returns {Number} the index of the match\n */\nexport function indicesOfMatches (string, regex, index) {\n  var str = (index !== null) ? string.substring(index) : string\n  var matches = str.match(regex)\n  var indices = []\n  matches.forEach(function (match, i) {\n    let prevIndex = indices ? indices[i - 1] : null\n    indices.push(str.indexOf(match, prevIndex + 1) + index)\n  })\n  return indices || -1\n}\n\n/**\n * Finds the last index based on a regex match\n * @param   {RegExp} regex a regex object\n * @param   {Number} index optional ending index\n * @returns {Number} the index of the match\n */\nexport function lastIndexOfMatch (string, regex, index) {\n  var str = (index !== null) ? string.substring(0, index) : string\n  var matches = str.match(regex)\n  return matches ? str.lastIndexOf(matches[matches.length - 1]) : -1\n}\n\n/**\n * Creates an array of lines separated by line breaks\n * @param   {Number} index optional ending index\n * @returns {Array}  an array of strings\n */\nexport function splitLinesBackward (string, index) {\n  var str = index ? string.substring(0, index) : string\n  return str.split(/\\r\\n|\\r|\\n/)\n}\n\n/**\n * Creates an array of lines split by line breaks\n * @param   {Number} index optional starting index\n * @returns {Array}  an array of strings\n */\nexport function splitLines (string, index) {\n  var str = index ? string.substring(index) : string\n  return str.split(/\\r\\n|\\r|\\n/)\n}\n\n/**\n * Finds the start of a line\n * @param   {Number} index  optional position\n * @returns {Number} the index of the line start\n */\nexport function startOfLine (string, index = 0) {\n  return lastIndexOfMatch(string, /^.*/gm, index)\n}\n\n/**\n * Finds the end of a line\n * @param   {Number} index  optional position\n * @returns {Number} the index of the line end\n */\nexport function endOfLine (string, index = 0) {\n  return indexOfMatch(string, /(\\r|\\n|$)/gm, index)\n}\n"]}