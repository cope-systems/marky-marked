!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.marky=e()}}(function(){var e;return function t(e,n,i){function r(a,l){if(!n[a]){if(!e[a]){var o="function"==typeof require&&require;if(!l&&o)return o(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./src/marky"),s=i(r);t.exports=s["default"]},{"./src/marky":3}],2:[function(t,n,i){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=g.normal,this.options.gfm&&(this.options.tables?this.rules=g.tables:this.rules=g.gfm)}function r(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function s(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function u(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function c(){}function d(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function h(e,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=d({},h.defaults,n||{});var r,s,o=n.highlight,u=0;try{r=t.lex(e,n)}catch(c){return i(c)}s=r.length;var g=function(e){if(e)return n.highlight=o,i(e);var t;try{t=a.parse(r,n)}catch(s){e=s}return n.highlight=o,e?i(e):i(null,t)};if(!o||o.length<3)return g();if(delete n.highlight,!s)return g();for(;u<r.length;u++)!function(e){return"code"!==e.type?--s||g():o(e.text,e.lang,function(t,n){return t?g(t):null==n||n===e.text?--s||g():(e.text=n,e.escaped=!0,void(--s||g()))})}(r[u])}else try{return n&&(n=d({},h.defaults,n)),a.parse(t.lex(e,n),n)}catch(c){if(c.message+="\nPlease report this to https://github.com/chjj/marked.",(n||h.defaults).silent)return"<p>An error occured:</p><pre>"+l(c.message+"",!0)+"</pre>";throw c}}var g={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:c,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:c,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};g.bullet=/(?:[*+-]|\d+\.)/,g.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,g.item=u(g.item,"gm")(/bull/g,g.bullet)(),g.list=u(g.list)(/bull/g,g.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+g.def.source+")")(),g.blockquote=u(g.blockquote)("def",g.def)(),g._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",g.html=u(g.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,g._tag)(),g.paragraph=u(g.paragraph)("hr",g.hr)("heading",g.heading)("lheading",g.lheading)("blockquote",g.blockquote)("tag","<"+g._tag)("def",g.def)(),g.normal=d({},g),g.gfm=d({},g.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),g.gfm.paragraph=u(g.paragraph)("(?!","(?!"+g.gfm.fences.source.replace("\\1","\\2")+"|"+g.list.source.replace("\\1","\\3")+"|")(),g.tables=d({},g.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=g,t.lex=function(e,n){var i=new t(n);return i.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){for(var i,r,s,a,l,o,u,c,d,e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),o={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},c=0;c<o.align.length;c++)/^ *-+: *$/.test(o.align[c])?o.align[c]="right":/^ *:-+: *$/.test(o.align[c])?o.align[c]="center":/^ *:-+ *$/.test(o.align[c])?o.align[c]="left":o.align[c]=null;for(c=0;c<o.cells.length;c++)o.cells[c]=o.cells[c].split(/ *\| */);this.tokens.push(o)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),a=s[2],this.tokens.push({type:"list_start",ordered:a.length>1}),s=s[0].match(this.rules.item),i=!1,d=s.length,c=0;d>c;c++)o=s[c],u=o.length,o=o.replace(/^ *([*+-]|\d+\.) +/,""),~o.indexOf("\n ")&&(u-=o.length,o=this.options.pedantic?o.replace(/^ {1,4}/gm,""):o.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==d-1&&(l=g.bullet.exec(s[c+1])[0],a===l||a.length>1&&l.length>1||(e=s.slice(c+1).join("\n")+e,c=d-1)),r=i||/\n\n(?!\s*$)/.test(o),c!==d-1&&(i="\n"===o.charAt(o.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(o,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!n&&t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),o={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<o.align.length;c++)/^ *-+: *$/.test(o.align[c])?o.align[c]="right":/^ *:-+: *$/.test(o.align[c])?o.align[c]="center":/^ *:-+ *$/.test(o.align[c])?o.align[c]="left":o.align[c]=null;for(c=0;c<o.cells.length;c++)o.cells[c]=o.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(o)}else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:c,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:c,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=u(p.link)("inside",p._inside)("href",p._href)(),p.reflink=u(p.reflink)("inside",p._inside)(),p.normal=d({},p),p.pedantic=d({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=d({},p.normal,{escape:u(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=d({},p.gfm,{br:u(p.br)("{2,}","*")(),text:u(p.gfm.text)("{2,}","*")()}),r.rules=p,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){for(var t,n,i,r,s="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle("mailto:")+n):(n=l(r[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):l(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),s+=this.renderer.codespan(l(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),s+=this.renderer.text(l(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),n=l(r[1]),i=n,s+=this.renderer.link(i,null,n);return s},r.prototype.outputLink=function(e,t){var n=l(t.href),i=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,l(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;i>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+l(t,!0)+'">'+(n?e:l(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:l(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>"},s.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.parse=function(e,t,n){var i=new a(t,n);return i.parse(e)},a.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r,s="",a="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(s,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",l=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,l);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var o=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(o);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},c.exec=c,h.options=h.setOptions=function(e){return d(h.defaults,e),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1},h.Parser=a,h.parser=a.parse,h.Renderer=s,h.Lexer=t,h.lexer=t.lex,h.InlineLexer=r,h.inlineLexer=r.output,h.parse=h,"undefined"!=typeof n&&"object"==typeof i?n.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):this.marked=h}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./modules/Marky"),r=Object.create(i.Marky);r.init(),n["default"]=r},{"./modules/Marky":9}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Button=void 0;var i=e("./Element"),r=e("./Icon"),s=n.Button=Object.create(i.Element);s.init=function(e,t){i.Element.init.call(this,"button",e,t),this.addClass(this.title,this.id),this.assign("value",this.title),this.icon=Object.create(r.Icon);for(var n=arguments.length,s=Array(n>2?n-2:0),a=2;n>a;a++)s[a-2]=arguments[a];this.icon.init(s),this.icon.appendTo(this.element)}},{"./Element":6,"./Icon":7}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeadingDialog=n.ImageDialog=n.LinkDialog=void 0;var i=e("./Element"),r=e("./ListItems"),s=n.LinkDialog=Object.create(i.Element);s.init=function(e,t){i.Element.init.call(this,"div",e,t),this.addClass(this.title,t,"dialog"),s.linkForm=Object.create(i.Element),this.linkForm.init("form","Link Form"),this.linkForm.assign("id",this.id+"-link-form"),this.linkUrlInput=Object.create(i.Element),this.linkUrlInput.init("input","Link Url"),this.linkUrlInput.addClass("link-url-input"),this.linkUrlInput.assign("type","text"),this.linkUrlInput.assign("name",this.id+"-link-url-input"),this.linkUrlInput.assign("placeholder","http://url.com"),this.linkDisplayInput=Object.create(i.Element),this.linkDisplayInput.init("input","Link Display"),this.linkDisplayInput.addClass("link-display-input"),this.linkDisplayInput.assign("type","text"),this.linkDisplayInput.assign("name",this.id+"-link-display-input"),this.linkDisplayInput.assign("placeholder","Display text"),this.insertButton=Object.create(i.Element),this.insertButton.init("button","Insert Link"),this.insertButton.addClass("insert-link"),this.insertButton.assign("textContent","Insert"),this.linkUrlInput.appendTo(this.linkForm.element),this.linkDisplayInput.appendTo(this.linkForm.element),this.insertButton.appendTo(this.linkForm.element),this.linkForm.appendTo(this.element)};var a=n.ImageDialog=Object.create(i.Element);a.init=function(e,t){i.Element.init.call(this,"div",e,t),this.addClass(this.title,t,"dialog"),a.imageForm=Object.create(i.Element),this.imageForm.init("form","Image Form"),this.imageForm.assign("id",this.id+"-image-form"),this.imageSourceInput=Object.create(i.Element),this.imageSourceInput.init("input","Image Source"),this.imageSourceInput.addClass("image-source-input"),this.imageSourceInput.assign("type","text"),this.imageSourceInput.assign("name",this.id+"-image-source-input"),this.imageSourceInput.assign("placeholder","http://url.com/image.jpg"),this.imageAltInput=Object.create(i.Element),this.imageAltInput.init("input","Image Alt"),this.imageAltInput.addClass("image-alt-input"),this.imageAltInput.assign("type","text"),this.imageAltInput.assign("name",this.id+"-image-alt-input"),this.imageAltInput.assign("placeholder","Alt text"),this.insertButton=Object.create(i.Element),this.insertButton.init("button","Insert Image"),this.insertButton.addClass("insert-image"),this.insertButton.assign("textContent","Insert"),this.imageSourceInput.appendTo(this.imageForm.element),this.imageAltInput.appendTo(this.imageForm.element),this.insertButton.appendTo(this.imageForm.element),this.imageForm.appendTo(this.element)};var l=n.HeadingDialog=Object.create(i.Element);l.init=function(e,t){var n=this;i.Element.init.call(this,"div",e,t),this.addClass(this.title,t,"dialog"),this.headingList=Object.create(i.Element),this.headingList.init("ul","Heading List"),this.headingList.assign("id",t+"-heading-list"),this.options=[];for(var s=0;6>s;s++){var a=Object.create(r.HeadingItem);a.init("Heading "+(s+1),s+1),this.options.push(a)}var l=Object.create(r.HeadingItem);l.init("Remove Heading","0","fa","fa-remove"),this.options.push(l),this.options.forEach(function(e){e.appendTo(n.headingList.element)}),this.headingList.appendTo(this.element)}},{"./Element":6,"./ListItems":8}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Element={init:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];this.type=e,this.title=t,this.id=n,this.element=this.register(),this.title&&(this.element.title=this.title)},register:function(){return document.createElement(this.type)},assign:function(e,t){this.element[e]=t},appendTo:function(e){e.appendChild(this.element)},addClass:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];n.forEach(function(t){e.element.classList.add(t.replace(/[ ]/g,"-").toLowerCase())})},removeClass:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];n.forEach(function(t){e.element.classList.remove(t.replace(/[ ]/g,"-").toLowerCase())})},listen:function(e,t){this.element.addEventListener(e,t)}}},{}],7:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Icon=void 0;var r=e("./Element"),s=n.Icon=Object.create(r.Element);s.init=function(e){r.Element.init.call(this,"i"),this.addClass.apply(this,i(e))}},{"./Element":6}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeadingItem=void 0;var i=e("./Element"),r=e("./Icon"),s=n.HeadingItem=Object.create(i.Element);s.init=function(e,t){i.Element.init.call(this,"li",e),this.addClass(this.title.replace(" ","-")),this.assign("value",t),this.button=Object.create(i.Element),this.button.init("button",e),this.button.assign("value",t),this.button.addClass("heading-button"),this.button.appendTo(this.element);for(var n=arguments.length,s=Array(n>2?n-2:0),a=2;n>a;a++)s[a-2]=arguments[a];s.length?(this.icon=Object.create(r.Icon),this.icon.init(s),this.icon.appendTo(this.button.element)):this.button.assign("textContent",t)}},{"./Element":6,"./Icon":7}],9:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Marky=void 0;var s=e("./mark"),a=r(s),l=e("./dispatcher"),o=i(l),u=e("./custom-events"),c=e("./handlers");n.Marky={init:function(e,t){this.mark=a["default"],this.state=[{markdown:"",html:"",selection:[0,0]}],this.index=0,this.editor=e,this.container=t},destroy:function(){var e=arguments.length<=0||void 0===arguments[0]?this.container:arguments[0];e.remove()},update:function(e){var t=arguments.length<=1||void 0===arguments[1]?[0,0]:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.state:arguments[2],i=arguments.length<=3||void 0===arguments[3]?this.index:arguments[3],r=o.update(e,t,n,i);this.state=r.state,this.index=r.index},undo:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.state:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.index:arguments[2],i=arguments.length<=3||void 0===arguments[3]?this.editor:arguments[3];if(0===n)return n;var r=o.undo(e,t,n);return this.index=r.index,i.value=r.state.markdown,i.setSelectionRange(r.state.selection[0],r.state.selection[1]),i.nextSibling.value=r.state.html,i.dispatchEvent(u.markychange),this.index},redo:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.state:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.index:arguments[2],i=arguments.length<=3||void 0===arguments[3]?this.editor:arguments[3];if(n===t.length-1)return n;var r=o.redo(e,t,n);return this.index=r.index,i.value=r.state.markdown,i.setSelectionRange(r.state.selection[0],r.state.selection[1]),i.nextSibling.value=r.state.html,i.dispatchEvent(u.markychange),this.index},setSelection:function(){var e=arguments.length<=0||void 0===arguments[0]?[0,0]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];return t.setSelectionRange(e[0],e[1]),e},expandSelectionForward:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1],n=t.selectionStart,i=t.selectionEnd+e;return t.setSelectionRange(n,i),[n,i]},expandSelectionBackward:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1],n=t.selectionStart-e,i=t.selectionEnd;return t.setSelectionRange(n,i),[n,i]},moveCursorBackward:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1],n=t.selectionStart-e;return t.setSelectionRange(n,n),n},moveCursorForward:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1],n=t.selectionStart+e;return t.setSelectionRange(n,n),n},bold:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.inlineHandler)(t.value,e,"**");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},italic:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.inlineHandler)(t.value,e,"_");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},strikethrough:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.inlineHandler)(t.value,e,"~~");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},code:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.inlineHandler)(t.value,e,"`");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},blockquote:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.blockHandler)(t.value,e,"> ");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},heading:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.editor:arguments[2];t=t||[n.selectionStart,n.selectionEnd];for(var i=[],r=void 0,s=1;e>=s;s++)i.push("#");r=i.join("");var a=r?" ":"",l=(0,c.blockHandler)(n.value,t,r+a);n.value=l.value,n.setSelectionRange(l.range[0],l.range[1]);var o=n._marky.state[n._marky.index].html;return n.nextSibling.value=o,n.dispatchEvent(u.markyupdate),[l.range[0],l.range[1]]},link:function(e){var t=arguments.length<=1||void 0===arguments[1]?"http://url.com":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"http://url.com":arguments[2],i=arguments.length<=3||void 0===arguments[3]?this.editor:arguments[3];e=e||[i.selectionStart,i.selectionEnd];var r="["+n+"]("+t+")",s=(0,c.insertHandler)(i.value,e,r);i.value=s.value,i.setSelectionRange(s.range[0],s.range[1]);var a=i._marky.state[i._marky.index].html;return i.nextSibling.value=a,i.dispatchEvent(u.markyupdate),[s.range[0],s.range[1]]},image:function(e){var t=arguments.length<=1||void 0===arguments[1]?"http://imagesource.com/image.jpg":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"http://imagesource.com/image.jpg":arguments[2],i=arguments.length<=3||void 0===arguments[3]?this.editor:arguments[3];e=e||[i.selectionStart,i.selectionEnd];var r="!["+n+"]("+t+")",s=(0,c.insertHandler)(i.value,e,r);i.value=s.value,i.setSelectionRange(s.range[0],s.range[1]);var a=i._marky.state[i._marky.index].html;return i.nextSibling.value=a,i.dispatchEvent(u.markyupdate),[s.range[0],s.range[1]]},unorderedList:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.listHandler)(t.value,e,"ul");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},orderedList:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.listHandler)(t.value,e,"ol");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},indent:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.indentHandler)(t.value,e,"in");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]},outdent:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.editor:arguments[1];e=e||[t.selectionStart,t.selectionEnd];var n=(0,c.indentHandler)(t.value,e,"out");t.value=n.value,t.setSelectionRange(n.range[0],n.range[1]);var i=t._marky.state[t._marky.index].html;return t.nextSibling.value=i,t.dispatchEvent(u.markyupdate),[n.range[0],n.range[1]]}}},{"./custom-events":11,"./dispatcher":12,"./handlers":13,"./mark":14}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Separator=void 0;var i=e("./Element"),r=n.Separator=Object.create(i.Element);r.init=function(){i.Element.init.call(this,"span"),this.addClass("separator")}},{"./Element":6}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();n.markyblur=new CustomEvent("markyblur"),n.markyfocus=new CustomEvent("markyfocus"),n.markyselect=new CustomEvent("markyselect"),n.markyupdate=new CustomEvent("markyupdate"),n.markychange=new CustomEvent("markychange")},{}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,i){var r={sanitize:!0},s=(0,o["default"])(e,r).toString()||"",a=(0,
c["default"])(n,i,function(){return{markdown:e,html:s,selection:t}});return a}function s(e,t,n){return n=n>e-1?n-e:0,{state:t[n],index:n}}function a(e,t,n){return n=n<t.length-(e+1)?n+e:t.length-1,{state:t[n],index:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.update=r,n.undo=s,n.redo=a;var l=e("marked"),o=i(l),u=e("./push-state"),c=i(u)},{"./push-state":16,marked:2}],13:[function(e,t,n){"use strict";function i(e,t,n){var i=void 0,r=[n,n];return-1!==e.indexOf(n)&&t.forEach(function(i,s){e.lastIndexOf(n,i)===i-n.length&&(e=e.substring(0,i-n.length)+e.substring(i,e.length),0===s?(t[0]=t[0]-n.length,t[1]=t[1]-n.length):t[1]=t[1]-n.length,1===s&&r[0]&&(t[1]=t[1]+n.length),r[s]=""),e.indexOf(n,i)===i&&(e=e.substring(0,i)+e.substring(i+n.length,e.length),0===s&&t[0]!==t[1]&&(t[1]=t[1]-n.length),0===s&&t[0]===t[1]&&(t[0]=t[0]-n.length),1===s&&r[0]&&(t[1]=t[1]+n.length),r[s]="")}),i=e.substring(0,t[0])+r[0]+e.substring(t[0],t[1])+r[1]+e.substring(t[1],e.length),{value:i,range:[t[0]+r[0].length,t[1]+r[1].length]}}function r(e,t,n){var i=t[0],r=t[1],s=void 0,a=(0,o.startOfLine)(e,i),l=(0,o.endOfLine)(e,r);if((0,o.indexOfMatch)(e,/^[#>]/m,a)===a){var u=e.substring(a,a+e.substring(a).search(/[0-9~*`_-]|\b|\n|$/gm));return s=e.substring(0,a)+e.substring(a+e.substring(a).search(/[0-9~*`_-]|\b|\n|$/gm),e.length),l-=u.length,u.trim()!==n.trim()&&n.trim().length&&(s=e.substring(0,a)+n+e.substring(a+e.substring(a).search(/[0-9~*`_-]|\b|\n|$/gm),e.length),a+=n.length,l+=n.length),{value:s,range:[a,l]}}return s=e.substring(0,a)+n+e.substring(a,e.length),{value:s,range:[i+n.length,r+n.length]}}function s(e,t,n){var i=(0,o.startOfLine)(e,t[0]),r=(0,o.endOfLine)(e,t[1]),s=(0,o.splitLines)(e.substring(i,r)),a=[],l=void 0;s.forEach(function(e,t){var i="ul"===n?"- ":t+1+". ",r=void 0;if(0===(0,o.indexOfMatch)(e,/^[0-9#>-]/m,0)){var s=e.substring(0,0+e.substring(0).search(/[~*`_[!]|[a-zA-Z]|\r|\n|$/gm));return r=e.substring(e.search(/[~*`_[!]|[a-zA-Z]|\r|\n|$/gm),e.length),s.trim()!==i.trim()&&(r=i+e.substring(e.search(/[~*`_[!]|[a-zA-Z]|\r|\n|$/gm),e.length)),a.push(r)}return r=i+e.substring(0,e.length),a.push(r)});var u=a.join("\r\n");return l=e.substring(0,i)+a.join("\r\n")+e.substring(r,e.length),{value:l,range:[i,i+u.replace(/\n/gm,"").length]}}function a(e,t,n){var i=(0,o.startOfLine)(e,t[0]),r=(0,o.endOfLine)(e,t[1]),s=(0,o.splitLines)(e.substring(i,r)),a=[],l=void 0;s.forEach(function(e){var t="    ",i=void 0;return"out"===n?(i=0===e.indexOf(t,0)?e.substring(t.length,e.length):e.substring(e.search(/[~*`_[!#>-]|[a-zA-Z0-9]|\r|\n|$/gm),e.length),a.push(i)):(i=t+e.substring(0,e.length),a.push(i))});var u=a.join("\r\n");return l=e.substring(0,i)+a.join("\r\n")+e.substring(r,e.length),{value:l,range:[i,i+u.replace(/\n/gm,"").length]}}function l(e,t,n){var i=t[0],r=t[1],s=void 0;return s=e.substring(0,i)+n+e.substring(r,e.length),{value:s,range:[i,i+n.length]}}Object.defineProperty(n,"__esModule",{value:!0}),n.inlineHandler=i,n.blockHandler=r,n.listHandler=s,n.indentHandler=a,n.insertHandler=l;var o=e("./parsers")},{"./parsers":15}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"marky-mark":arguments[0],t=document.getElementsByTagName(e),n=[];return Array.prototype.forEach.call(t,function(e,t){var c=t;if(e.children.length)return void(e.getAttribute("id")&&n.push(parseInt(e.getAttribute("id").split("-")[2])));var d=Object.create(r.Element);d.init("div","Toolbar"),n.length&&(n.sort(),c=n[n.length-1]+1);var h="marky-mark-"+c;e.id=h,d.addClass("marky-toolbar",h);var g=Object.create(r.Element);g.init("div","Dialogs"),g.addClass("marky-dialogs",h);var p=Object.create(r.Element);p.init("textarea","Marky Marked Editor"),p.addClass("marky-editor",h);var m=Object.create(i.Marky);m.init(p.element,e),p.assign("_marky",m);var f=Object.create(r.Element);f.init("input","Marky Marked Output"),f.assign("type","hidden"),f.addClass("marky-output",h);var v=Object.create(a.HeadingDialog);v.init("Heading Dialog",h),v.element.style.visibility="hidden",v.editor=p.element,v.options.forEach(function(e){e.listen("click",function(e){e.preventDefault();var t=parseInt(e.target.value);v.editor.focus(),v.removeClass("toggled"),v.element.style.visibility="hidden",v.editor._marky.heading(t,[v.editor.selectionStart,v.editor.selectionEnd])})});var k=Object.create(a.LinkDialog);k.init("Link Dialog",h),k.element.style.visibility="hidden",k.editor=p.element,k.linkForm.listen("submit",function(e){e.preventDefault(),k.editor.focus()}),k.insertButton.listen("click",function(e){e.preventDefault,k.editor.focus();var t=k.linkUrlInput.element.value?k.linkUrlInput.element.value:"http://url.com",n=k.linkDisplayInput.element.value?k.linkDisplayInput.element.value:t;k.linkUrlInput.element.value="",k.linkDisplayInput.element.value="",k.element.style.visibility="hidden",k.removeClass("toggled"),k.editor._marky.link([k.editor.selectionStart,k.editor.selectionEnd],t,n)});var b=Object.create(a.ImageDialog);b.init("Image Dialog",h),b.element.style.visibility="hidden",b.editor=p.element,b.imageForm.listen("submit",function(e){e.preventDefault(),b.editor.focus()}),b.insertButton.listen("click",function(e){e.preventDefault,b.editor.focus();var t=b.imageSourceInput.element.value?b.imageSourceInput.element.value:"http://imagesource.com/image.jpg",n=b.imageAltInput.element.value?b.imageAltInput.element.value:t;b.imageSourceInput.element.value="",b.imageAltInput.element.value="",b.element.style.visibility="hidden",b.removeClass("toggled"),b.editor._marky.image([b.editor.selectionStart,b.editor.selectionEnd],t,n)});var y=Object.create(s.Button);y.init("Heading",h,"fa","fa-header"),y.dialog=v.element,y.listen("click",function(e){return e.preventDefault(),e.target.blur(),y.dialog.classList.toggle("toggled"),b.element.style.visibility="hidden",b.removeClass("toggled"),k.element.style.visibility="hidden",k.removeClass("toggled"),"hidden"===y.dialog.style.visibility?void(y.dialog.style.visibility="visible"):void(y.dialog.style.visibility="hidden")});var x=Object.create(s.Button);x.init("Bold",h,"fa","fa-bold"),x.editor=p.element,x.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),x.editor.focus()}),x.listen("mouseup",function(e){e.target.classList.remove("active")}),x.listen("click",function(e){e.preventDefault(),x.editor.focus(),x.editor._marky.bold([x.editor.selectionStart,x.editor.selectionEnd])});var _=Object.create(s.Button);_.init("Italic",h,"fa","fa-italic"),_.editor=p.element,_.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),_.editor.focus()}),_.listen("mouseup",function(e){e.target.classList.remove("active")}),_.listen("click",function(e){e.preventDefault(),_.editor.focus(),_.editor._marky.italic([_.editor.selectionStart,_.editor.selectionEnd])});var E=Object.create(s.Button);E.init("Strikethrough",h,"fa","fa-strikethrough"),E.editor=p.element,E.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),E.editor.focus()}),E.listen("mouseup",function(e){e.target.classList.remove("active")}),E.listen("click",function(e){e.preventDefault(),E.editor.focus(),E.editor._marky.strikethrough([E.editor.selectionStart,E.editor.selectionEnd])});var S=Object.create(s.Button);S.init("Code",h,"fa","fa-code"),S.editor=p.element,S.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),S.editor.focus()}),S.listen("mouseup",function(e){e.target.classList.remove("active")}),S.listen("click",function(e){e.preventDefault(),S.editor.focus(),S.editor._marky.code([S.editor.selectionStart,S.editor.selectionEnd])});var w=Object.create(s.Button);w.init("Blockquote",h,"fa","fa-quote-right"),w.editor=p.element,w.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),w.editor.focus()}),w.listen("mouseup",function(e){e.target.classList.remove("active")}),w.listen("click",function(e){e.preventDefault(),w.editor.focus(),w.editor._marky.blockquote([w.editor.selectionStart,w.editor.selectionEnd])});var L=Object.create(s.Button);L.init("Link",h,"fa","fa-link"),L.editor=p.element,L.dialog=k.element,L.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),L.editor.focus()}),L.listen("mouseup",function(e){e.target.classList.remove("active")}),L.listen("click",function(e){return e.preventDefault(),L.editor.focus(),L.dialog.classList.toggle("toggled"),b.element.style.visibility="hidden",b.removeClass("toggled"),v.element.style.visibility="hidden",v.removeClass("toggled"),"hidden"===L.dialog.style.visibility?(L.dialog.children[0].children[1].value=L.editor.value.substring(L.editor.selectionStart,L.editor.selectionEnd),void(L.dialog.style.visibility="visible")):void(L.dialog.style.visibility="hidden")});var O=Object.create(s.Button);O.init("Image",h,"fa","fa-file-image-o"),O.editor=p.element,O.dialog=b.element,O.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),O.editor.focus()}),O.listen("mouseup",function(e){e.target.classList.remove("active")}),O.listen("click",function(e){return e.preventDefault(),O.editor.focus(),O.dialog.classList.toggle("toggled"),k.element.style.visibility="hidden",k.removeClass("toggled"),v.element.style.visibility="hidden",v.removeClass("toggled"),"hidden"===O.dialog.style.visibility?(O.dialog.children[0].children[1].value=O.editor.value.substring(O.editor.selectionStart,O.editor.selectionEnd),void(O.dialog.style.visibility="visible")):void(O.dialog.style.visibility="hidden")});var j=Object.create(s.Button);j.init("Unordered List",h,"fa","fa-list-ul"),j.editor=p.element,j.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),j.editor.focus()}),j.listen("mouseup",function(e){e.target.classList.remove("active")}),j.listen("click",function(e){e.preventDefault(),j.editor.focus(),j.editor._marky.unorderedList([j.editor.selectionStart,j.editor.selectionEnd])});var I=Object.create(s.Button);I.init("Ordered List",h,"fa","fa-list-ol"),I.editor=p.element,I.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),I.editor.focus()}),I.listen("mouseup",function(e){e.target.classList.remove("active")}),I.listen("click",function(e){e.preventDefault(),I.editor.focus(),I.editor._marky.orderedList([I.editor.selectionStart,I.editor.selectionEnd])});var C=Object.create(s.Button);C.init("Outdent",h,"fa","fa-outdent"),C.editor=p.element,C.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),C.editor.focus()}),C.listen("mouseup",function(e){e.target.classList.remove("active")}),C.listen("click",function(e){e.preventDefault(),C.editor.focus(),C.editor._marky.outdent([C.editor.selectionStart,C.editor.selectionEnd])});var D=Object.create(s.Button);D.init("Indent",h,"fa","fa-indent"),D.editor=p.element,D.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),D.editor.focus()}),D.listen("mouseup",function(e){e.target.classList.remove("active")}),D.listen("click",function(e){e.preventDefault(),D.editor.focus(),D.editor._marky.indent([D.editor.selectionStart,D.editor.selectionEnd])});var T=Object.create(s.Button);T.init("Undo",h,"fa","fa-backward"),T.editor=p.element,T.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),T.editor.focus()}),T.listen("mouseup",function(e){e.target.classList.remove("active")}),T.listen("click",function(e){e.preventDefault(),T.element.classList.contains("disabled")||(T.editor.focus(),T.editor._marky.undo(1,T.editor._marky.state,T.editor._marky.index))});var $=Object.create(s.Button);$.init("Redo",h,"fa","fa-forward"),$.editor=p.element,$.listen("mousedown",function(e){e.preventDefault(),e.target.classList.add("active"),$.editor.focus()}),$.listen("mouseup",function(e){e.target.classList.remove("active")}),$.listen("click",function(e){e.preventDefault(),$.element.classList.contains("disabled")||($.editor.focus(),$.editor._marky.redo(1,$.editor._marky.state,$.editor._marky.index))});var A=Object.create(s.Button);A.init("Fullscreen",h,"fa","fa-expand"),A.editor=p.element,A.listen("click",function(t){t.preventDefault(),t.target.blur(),t.target.classList.toggle("fullscreen-toggled"),e.classList.toggle("fullscreen-toggled"),A.editor.classList.toggle("fullscreen-toggled"),A.icon.element.classList.toggle("fa-expand"),A.icon.element.classList.toggle("fa-compress")});var B=Object.create(l.Separator);B.init();var M=Object.create(l.Separator);M.init();var H=Object.create(l.Separator);H.init();var q=Object.create(l.Separator);q.init();var R=Object.create(l.Separator);R.init(),d.appendTo(e),p.appendTo(e),f.appendTo(e),y.appendTo(d.element),B.appendTo(d.element),x.appendTo(d.element),_.appendTo(d.element),E.appendTo(d.element),S.appendTo(d.element),w.appendTo(d.element),M.appendTo(d.element),L.appendTo(d.element),O.appendTo(d.element),H.appendTo(d.element),j.appendTo(d.element),I.appendTo(d.element),C.appendTo(d.element),D.appendTo(d.element),q.appendTo(d.element),T.appendTo(d.element),$.appendTo(d.element),R.appendTo(d.element),A.appendTo(d.element),g.appendTo(d.element),k.appendTo(g.element),b.appendTo(g.element),v.appendTo(g.element),p.listen("markyupdate",function(e){e.target._marky.update(e.target.value,[e.target.selectionStart,e.target.selectionEnd],e.target._marky.state,e.target._marky.index),e.target.dispatchEvent(o.markychange)},!1),p.listen("markychange",function(e){var t=e.target._marky.state[e.target._marky.index].html;0===e.target._marky.index?T.addClass("disabled"):T.removeClass("disabled"),e.target._marky.index===e.target._marky.state.length-1?$.addClass("disabled"):$.removeClass("disabled"),e.target.nextSibling.value=t},!1),p.listen("input",function(e){window.clearTimeout(u),u=window.setTimeout(function(){e.target.dispatchEvent(o.markyupdate)},1e3)},!1),p.listen("change",function(e){e.target.dispatchEvent(o.markyupdate)},!1),p.listen("paste",function(e){setTimeout(function(){e.target.dispatchEvent(o.markyupdate)},0)},!1),p.listen("cut",function(e){setTimeout(function(){e.target.dispatchEvent(o.markyupdate)},0)},!1);var F=0;p.listen("keydown",function(e){8===e.which&&(F=e.target.selectionEnd-e.target.selectionStart)});var P=[],U=[46,44,63,33,58,59,47,92,38,124,32];p.listen("keypress",function(e){P.push(e.which),P.length>2&&P.shift(),U.forEach(function(t){return 32===e.which&&P[0]===t?window.clearTimeout(u):e.which===t?(window.clearTimeout(u),e.target.dispatchEvent(o.markyupdate)):void 0})}),p.listen("keyup",function(e){8===e.which&&F>0&&(window.clearTimeout(u),F=0,e.target.dispatchEvent(o.markyupdate))}),p.listen("select",function(e){e.target.dispatchEvent(o.markyselect)}),p.listen("blur",function(e){e.target.dispatchEvent(o.markyblur)}),p.listen("focus",function(e){e.target.dispatchEvent(o.markyfocus)}),p.listen("click",function(){b.element.style.visibility="hidden",b.removeClass("toggled"),k.element.style.visibility="hidden",k.removeClass("toggled"),v.element.style.visibility="hidden",v.removeClass("toggled")})})};var i=e("./Marky"),r=e("./Element"),s=e("./Button"),a=e("./Dialogs"),l=e("./Separator"),o=e("./custom-events"),u=void 0},{"./Button":4,"./Dialogs":5,"./Element":6,"./Marky":9,"./Separator":10,"./custom-events":11}],15:[function(e,t,n){"use strict";function i(e,t,n){var i=null!==n?e.substring(n):e,r=i.match(t);return r?i.indexOf(r[0])+n:-1}function r(e,t,n){var i=null!==n?e.substring(n):e,r=i.match(t),s=[];return r.forEach(function(e,t){var r=s?s[t-1]:null;s.push(i.indexOf(e,r+1)+n)}),s||-1}function s(e,t,n){var i=null!==n?e.substring(0,n):e,r=i.match(t);return r?i.lastIndexOf(r[r.length-1]):-1}function a(e,t){var n=t?e.substring(0,t):e;return n.split(/\r\n|\r|\n/)}function l(e,t){var n=t?e.substring(t):e;return n.split(/\r\n|\r|\n/)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return s(e,/^.*/gm,t)}function u(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return i(e,/(\r|\n|$)/gm,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.indexOfMatch=i,n.indicesOfMatches=r,n.lastIndexOfMatch=s,n.splitLinesBackward=a,n.splitLines=l,n.startOfLine=o,n.endOfLine=u},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e,t,n){e=e.slice(0,t+1);var i=n();return e.push(i),t++,t>999&&(e.shift(),t--),{state:e,index:t}}},{}]},{},[1])(1)});
//# sourceMappingURL=marky.min.js.map
